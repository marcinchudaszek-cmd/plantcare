<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>PlantCare üåø</title>
    <meta name="description" content="Inteligentny asystent pielƒôgnacji ro≈õlin">
    <meta name="theme-color" content="#0a0f0a">
    <link rel="manifest" href="manifest.json">
    <link rel="icon" href="favicon.ico">
    <link rel="apple-touch-icon" href="icons/icon-192x192.png">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        :root {
            --bg: #0d1117;
            --bg-card: #161b22;
            --bg-elevated: #21262d;
            --border: #30363d;
            --text: #f0f6fc;
            --text-secondary: #8b949e;
            --accent: #3fb950;
            --accent-soft: rgba(63, 185, 80, 0.15);
            --danger: #f85149;
            --warning: #d29922;
        }
        
        body {
            font-family: 'Inter', -apple-system, sans-serif;
            background: var(--bg);
            color: var(--text);
            min-height: 100vh;
            padding-bottom: 80px;
        }
        
        .container {
            max-width: 500px;
            margin: 0 auto;
            padding: 16px;
        }
        
        /* Header */
        .header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 16px 0;
            margin-bottom: 16px;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 20px;
            font-weight: 700;
        }
        
        .logo-icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #3fb950, #238636);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
        }
        
        .header-btn {
            width: 40px;
            height: 40px;
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            cursor: pointer;
        }
        
        /* Navigation */
        .nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: var(--bg-card);
            border-top: 1px solid var(--border);
            padding: 8px 16px 20px;
            z-index: 100;
        }
        
        .nav-inner {
            max-width: 500px;
            margin: 0 auto;
            display: flex;
            justify-content: space-around;
        }
        
        .nav-btn {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 4px;
            padding: 8px 16px;
            background: none;
            border: none;
            color: var(--text-secondary);
            font-size: 11px;
            cursor: pointer;
            border-radius: 12px;
            transition: all 0.2s;
        }
        
        .nav-btn.active {
            color: var(--accent);
            background: var(--accent-soft);
        }
        
        .nav-btn span:first-child {
            font-size: 22px;
        }
        
        /* Cards */
        .card {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 16px;
            padding: 16px;
            margin-bottom: 12px;
        }
        
        .card-title {
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        /* Stats */
        .stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
            margin-bottom: 20px;
        }
        
        .stat {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 16px;
            padding: 16px;
            text-align: center;
        }
        
        .stat-icon { font-size: 24px; margin-bottom: 8px; }
        .stat-value { font-size: 28px; font-weight: 700; }
        .stat-label { font-size: 12px; color: var(--text-secondary); }
        
        /* Buttons */
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            padding: 14px 20px;
            border-radius: 12px;
            font-family: inherit;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            border: none;
            transition: all 0.2s;
        }
        
        .btn-primary {
            background: var(--accent);
            color: #000;
        }
        
        .btn-primary:hover {
            filter: brightness(1.1);
        }
        
        .btn-secondary {
            background: var(--bg-elevated);
            color: var(--text);
            border: 1px solid var(--border);
        }
        
        .btn-block { width: 100%; }
        
        .btn-group {
            display: flex;
            gap: 12px;
        }
        
        .btn-group .btn { flex: 1; }
        
        /* Quick Actions */
        .actions-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 12px;
            margin-bottom: 20px;
        }
        
        .action-btn {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 16px;
            padding: 16px 8px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .action-btn:hover {
            border-color: var(--accent);
            background: var(--accent-soft);
        }
        
        .action-btn span:first-child { font-size: 24px; }
        .action-btn span:last-child { font-size: 11px; color: var(--text-secondary); }
        
        /* Pages */
        .page { display: none; }
        .page.active { display: block; }
        
        /* Scanner */
        .scanner-box {
            background: var(--bg-elevated);
            border-radius: 16px;
            overflow: hidden;
            margin-bottom: 16px;
            border: 1px solid var(--border);
        }
        
        .scanner-preview {
            width: 100%;
            height: 220px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #000;
            position: relative;
        }
        
        .scanner-preview img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .scanner-analyzing-overlay {
            position: absolute; inset: 0;
            background: rgba(0,0,0,0.65);
            display: flex; flex-direction: column;
            align-items: center; justify-content: center;
            gap: 12px; color: #fff;
        }

        .scanner-scan-line {
            position: absolute;
            left: 0; right: 0;
            height: 2px;
            background: linear-gradient(90deg, transparent, var(--accent), transparent);
            animation: scanLine 1.6s ease-in-out infinite;
            top: 0;
        }

        @keyframes scanLine {
            0%   { top: 0%; opacity: 0; }
            10%  { opacity: 1; }
            90%  { opacity: 1; }
            100% { top: 100%; opacity: 0; }
        }

        .scanner-spinner {
            width: 44px; height: 44px;
            border: 3px solid rgba(63,185,80,0.3);
            border-top-color: var(--accent);
            border-radius: 50%;
            animation: spin 0.8s linear infinite;
        }

        @keyframes spin { to { transform: rotate(360deg); } }
        
        .scanner-placeholder {
            text-align: center;
            color: var(--text-secondary);
        }

        .scanner-placeholder div { font-size: 48px; margin-bottom: 12px; }
        
        .scanner-btns {
            padding: 12px 16px 16px;
            display: flex;
            gap: 12px;
        }
        
        .scanner-btns .btn { flex: 1; }
        
        #scanner-result { margin-top: 16px; }

        /* Confidence badge */
        .confidence-bar {
            height: 6px;
            background: var(--bg-elevated);
            border-radius: 3px;
            overflow: hidden;
            margin: 6px 0 4px;
        }
        .confidence-fill {
            height: 100%;
            border-radius: 3px;
            transition: width 0.8s ease;
        }

        /* Result tabs */
        .result-tabs {
            display: flex;
            border-bottom: 1px solid var(--border);
            margin-bottom: 16px;
        }
        .result-tab {
            flex: 1;
            padding: 10px 8px;
            background: none;
            border: none;
            color: var(--text-secondary);
            font-size: 13px;
            cursor: pointer;
            border-bottom: 2px solid transparent;
            transition: all 0.2s;
        }
        .result-tab.active {
            color: var(--accent);
            border-bottom-color: var(--accent);
        }

        /* Scan history */
        .scan-history-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 10px 0;
            border-bottom: 1px solid var(--border);
            cursor: pointer;
        }
        .scan-history-item:last-child { border-bottom: none; }
        .scan-history-thumb {
            width: 44px; height: 44px;
            border-radius: 10px;
            object-fit: cover;
            background: var(--bg-elevated);
            flex-shrink: 0;
        }
        .scan-history-info { flex: 1; min-width: 0; }
        .scan-history-name { font-weight: 600; font-size: 14px; }
        .scan-history-date { font-size: 12px; color: var(--text-secondary); margin-top: 2px; }

        /* Match badge */
        .match-badge {
            display: inline-flex;
            align-items: center;
            gap: 4px;
            font-size: 11px;
            padding: 3px 8px;
            border-radius: 20px;
            background: rgba(63,185,80,0.15);
            color: var(--accent);
            font-weight: 600;
            margin-left: 8px;
        }
        
        /* Grid */
        .grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
        }
        
        .plant-card {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 16px;
            overflow: hidden;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .plant-card:hover {
            border-color: var(--accent);
            transform: translateY(-2px);
        }
        
        .plant-card-img {
            width: 100%;
            height: 140px;
            object-fit: cover;
            background: var(--bg-elevated);
            display: block;
        }
        
        .plant-card-emoji {
            width: 100%;
            height: 140px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 56px;
            background: linear-gradient(135deg, #238636 0%, #0d1117 100%);
        }
        
        .plant-card-body {
            padding: 12px;
        }
        
        .plant-card-visual {
            width: 100%;
            height: 140px;
            overflow: hidden;
            background: var(--bg-elevated);
        }
        
        .plant-card-name {
            font-weight: 600;
            font-size: 15px;
            margin-bottom: 4px;
            line-height: 1.3;
        }
        
        .plant-card-species {
            font-size: 12px;
            color: var(--text-secondary);
            font-style: italic;
            margin-bottom: 8px;
            line-height: 1.3;
        }
        
        /* Badges */
        .badge {
            display: inline-flex;
            align-items: center;
            gap: 4px;
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 11px;
            font-weight: 600;
            margin-top: 4px;
        }
        
        .badge-easy { background: rgba(63,185,80,0.2); color: #3fb950; }
        .badge-medium { background: rgba(210,153,34,0.2); color: #d29922; }
        .badge-hard { background: rgba(248,81,73,0.2); color: #f85149; }
        
        /* Filters */
        .filters {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 6px;
            margin-bottom: 16px;
        }
        
        .filter-btn {
            padding: 8px 4px;
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 10px;
            color: var(--text-secondary);
            font-size: 11px;
            text-align: center;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .filter-btn.active {
            background: var(--accent);
            border-color: var(--accent);
            color: #000;
        }
        
        /* Modal */
        .modal {
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.8);
            z-index: 200;
            display: none;
            align-items: flex-end;
            justify-content: center;
        }
        
        .modal.active { display: flex; }
        
        .modal-content {
            background: var(--bg-card);
            border-radius: 24px 24px 0 0;
            width: 100%;
            max-width: 500px;
            max-height: 85vh;
            overflow-y: auto;
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px;
            border-bottom: 1px solid var(--border);
            position: sticky;
            top: 0;
            background: var(--bg-card);
        }
        
        .modal-title { font-size: 18px; font-weight: 600; }
        
        .modal-close {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: var(--bg-elevated);
            border: none;
            color: var(--text);
            font-size: 18px;
            cursor: pointer;
        }
        
        .modal-body { padding: 20px; }
        
        /* Detail */
        .detail-img {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-radius: 16px;
            margin-bottom: 16px;
        }
        
        .detail-header { text-align: center; margin-bottom: 20px; }
        .detail-name { font-size: 24px; font-weight: 700; margin-bottom: 4px; }
        .detail-species { color: var(--text-secondary); font-style: italic; margin-bottom: 12px; }
        
        .detail-desc {
            background: var(--bg-elevated);
            padding: 16px;
            border-radius: 12px;
            margin-bottom: 16px;
            line-height: 1.6;
        }
        
        .detail-fact {
            background: linear-gradient(135deg, rgba(63,185,80,0.2), rgba(35,134,54,0.1));
            border: 1px solid rgba(63,185,80,0.3);
            padding: 16px;
            border-radius: 12px;
            margin-bottom: 16px;
        }
        
        .detail-fact-title {
            font-weight: 600;
            color: var(--accent);
            margin-bottom: 8px;
        }
        
        .info-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin-bottom: 16px;
        }
        
        .info-item {
            background: var(--bg-elevated);
            padding: 12px;
            border-radius: 12px;
        }
        
        .info-label { font-size: 11px; color: var(--text-secondary); margin-bottom: 4px; }
        .info-value { font-weight: 600; font-size: 14px; }
        
        .care-list { margin-bottom: 16px; }
        
        .care-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px;
            background: var(--bg-elevated);
            border-radius: 12px;
            margin-bottom: 8px;
        }
        
        .care-icon {
            width: 40px;
            height: 40px;
            background: var(--accent-soft);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
        }
        
        .care-label { font-size: 12px; color: var(--text-secondary); }
        .care-value { font-weight: 500; }
        
        /* Form */
        .form-group { margin-bottom: 16px; }
        .form-label { font-size: 13px; font-weight: 500; margin-bottom: 8px; display: block; }
        
        .form-input {
            width: 100%;
            padding: 14px;
            background: var(--bg-elevated);
            border: 1px solid var(--border);
            border-radius: 12px;
            color: var(--text);
            font-family: inherit;
            font-size: 15px;
        }
        
        .form-input:focus {
            outline: none;
            border-color: var(--accent);
        }
        
        /* Toast */
        .toast {
            position: fixed;
            bottom: 100px;
            left: 50%;
            transform: translateX(-50%) translateY(100px);
            background: var(--bg-card);
            border: 1px solid var(--border);
            padding: 14px 24px;
            border-radius: 12px;
            font-size: 14px;
            z-index: 300;
            opacity: 0;
            transition: all 0.3s;
        }
        
        .toast.show {
            transform: translateX(-50%) translateY(0);
            opacity: 1;
        }
        
        /* Alert */
        .alert {
            padding: 16px;
            border-radius: 12px;
            margin-bottom: 16px;
        }
        
        .alert-warning {
            background: rgba(210,153,34,0.15);
            border: 1px solid rgba(210,153,34,0.3);
        }
        
        .alert-error {
            background: rgba(248,81,73,0.15);
            border: 1px solid rgba(248,81,73,0.3);
        }
        
        .alert-title {
            font-weight: 600;
            margin-bottom: 8px;
        }
        
        .alert-text {
            font-size: 13px;
            color: var(--text-secondary);
        }
        
        /* Search */
        .search-box {
            position: relative;
            margin-bottom: 16px;
        }
        
        .search-box input {
            width: 100%;
            padding: 14px 14px 14px 44px;
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 12px;
            color: var(--text);
            font-size: 14px;
        }
        
        .search-box input:focus {
            outline: none;
            border-color: var(--accent);
        }
        
        .search-box::before {
            content: 'üîç';
            position: absolute;
            left: 14px;
            top: 50%;
            transform: translateY(-50%);
        }
        
        /* Scrollbar */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: var(--border); border-radius: 3px; }
        
        /* Empty */
        .empty {
            text-align: center;
            padding: 40px 20px;
        }
        
        .empty-icon { font-size: 48px; margin-bottom: 12px; opacity: 0.5; }
        .empty-title { font-size: 18px; font-weight: 600; margin-bottom: 8px; }
        .empty-text { color: var(--text-secondary); margin-bottom: 20px; }
        
        /* Link */
        a { color: var(--accent); }
        /* ===== SYNC STATUS ===== */
        .sync-bar {
            position: fixed;
            top: 0; left: 0; right: 0;
            height: 3px;
            z-index: 999;
            background: transparent;
            transition: background 0.3s;
        }
        .sync-bar.syncing {
            background: linear-gradient(90deg, transparent, var(--accent), transparent);
            background-size: 200% 100%;
            animation: syncSlide 1.2s linear infinite;
        }
        @keyframes syncSlide {
            0%   { background-position: -200% 0; }
            100% { background-position: 200% 0; }
        }

        .sync-status-dot {
            width: 8px; height: 8px;
            border-radius: 50%;
            display: inline-block;
            margin-right: 6px;
            flex-shrink: 0;
        }
        .sync-status-dot.ok      { background: #3fb950; }
        .sync-status-dot.syncing { background: #d29922; animation: pulse 1s ease-in-out infinite; }
        .sync-status-dot.error   { background: #f85149; }
        .sync-status-dot.offline { background: #8b949e; }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50%       { opacity: 0.3; }
        }

        .sync-banner {
            display: flex;
            align-items: center;
            padding: 10px 14px;
            border-radius: 10px;
            font-size: 13px;
            gap: 8px;
            margin-bottom: 12px;
        }
        .sync-banner.connected  { background: rgba(63,185,80,0.1);  border: 1px solid rgba(63,185,80,0.3); }
        .sync-banner.offline    { background: rgba(139,148,158,0.1); border: 1px solid rgba(139,148,158,0.3); }
        .sync-banner.error      { background: rgba(248,81,73,0.1);   border: 1px solid rgba(248,81,73,0.3); }
        .sync-banner.setup      { background: rgba(210,153,34,0.1);  border: 1px solid rgba(210,153,34,0.3); }

        .sync-uid-box {
            background: var(--bg-elevated);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 10px 12px;
            font-size: 12px;
            font-family: monospace;
            color: var(--text-secondary);
            word-break: break-all;
            margin: 8px 0;
        }

        .config-textarea {
            width: 100%;
            background: var(--bg-elevated);
            border: 1px solid var(--border);
            border-radius: 10px;
            color: var(--text);
            font-size: 12px;
            font-family: monospace;
            padding: 12px;
            resize: vertical;
            min-height: 120px;
            outline: none;
        }
        .config-textarea:focus { border-color: var(--accent); }
    </style>
</head>
<body>
    <!-- Pasek synchronizacji (widoczny podczas sync) -->
    <div class="sync-bar" id="sync-bar"></div>

    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="logo">
                <div class="logo-icon">üåø</div>
                <span>PlantCare</span>
            </div>
            <button class="header-btn" onclick="showPage('settings')">‚öôÔ∏è</button>
        </header>
        
        <!-- HOME -->
        <div id="page-home" class="page active">
            <div class="stats">
                <div class="stat">
                    <div class="stat-icon">üå±</div>
                    <div class="stat-value" id="stat-total">0</div>
                    <div class="stat-label">Ro≈õliny</div>
                </div>
                <div class="stat">
                    <div class="stat-icon">üíß</div>
                    <div class="stat-value" id="stat-water">0</div>
                    <div class="stat-label">Do podlania</div>
                </div>
                <div class="stat">
                    <div class="stat-icon">‚ö†Ô∏è</div>
                    <div class="stat-value" id="stat-issues">0</div>
                    <div class="stat-label">Problemy</div>
                </div>
            </div>
            
            <div class="actions-grid">
                <div class="action-btn" onclick="showPage('scanner')">
                    <span>üì∑</span>
                    <span>Skanuj</span>
                </div>
                <div class="action-btn" onclick="openAddPlant()">
                    <span>‚ûï</span>
                    <span>Dodaj</span>
                </div>
                <div class="action-btn" onclick="showPage('encyclopedia')">
                    <span>üìö</span>
                    <span>Baza</span>
                </div>
                <div class="action-btn" onclick="showPage('settings')">
                    <span>‚öôÔ∏è</span>
                    <span>Ustawienia</span>
                </div>
            </div>
            
            <div class="card">
                <div class="card-title">üåø Twoje ro≈õliny</div>
                <div id="home-plants"></div>
            </div>
        </div>
        
        <!-- PLANTS -->
        <div id="page-plants" class="page">
            <h2 style="margin-bottom:16px;">Wszystkie ro≈õliny</h2>
            <div class="grid" id="plants-grid"></div>
        </div>
        
        <!-- SCANNER -->
        <div id="page-scanner" class="page">
            <h2 style="margin-bottom:16px;">üì∑ Skanuj ro≈õlinƒô</h2>
            
            <div id="api-warning" class="alert alert-warning" style="display:none;">
                <div class="alert-title">‚ö†Ô∏è Wymagany klucz API</div>
                <div class="alert-text">Aby skanowaƒá ro≈õliny, dodaj darmowy klucz API Gemini w ustawieniach.</div>
                <button class="btn btn-primary btn-block" style="margin-top:12px;" onclick="showPage('settings')">Przejd≈∫ do ustawie≈Ñ</button>
            </div>
            
            <div class="scanner-box">
                <div class="scanner-preview" id="scanner-preview">
                    <div class="scanner-placeholder">
                        <div>üì∑</div>
                        <p>Wybierz lub zr√≥b zdjƒôcie</p>
                    </div>
                </div>
                <div class="scanner-btns">
                    <button class="btn btn-secondary" onclick="document.getElementById('fileInput').click()">
                        üñºÔ∏è Galeria
                    </button>
                    <button class="btn btn-primary" onclick="document.getElementById('cameraInput').click()">
                        üì∏ Aparat
                    </button>
                </div>
            </div>
            
            <input type="file" id="fileInput" accept="image/*" onchange="handleFile(event)" style="display:none;">
            <input type="file" id="cameraInput" accept="image/*" capture="environment" onchange="handleFile(event)" style="display:none;">
            
            <!-- Inputy dla dziennika zdjƒôƒá ro≈õliny -->
            <input type="file" id="plantCameraInput" accept="image/*" capture="environment" onchange="handlePlantPhoto(event)" style="display:none;">
            <input type="file" id="plantGalleryInput" accept="image/*" onchange="handlePlantPhoto(event)" style="display:none;">
            
            <div id="scanner-result"></div>

            <!-- Historia skan√≥w -->
            <div class="card" style="margin-top:16px;" id="scan-history-card">
                <div class="card-title">üïê Ostatnie skany</div>
                <div id="scan-history-list">
                    <p style="color:var(--text-secondary);font-size:13px;">Brak historii skan√≥w.</p>
                </div>
            </div>
            
            <div class="card" style="margin-top:12px;">
                <div class="card-title">üí° Wskaz√≥wki</div>
                <ul style="padding-left:20px; color:var(--text-secondary); font-size:13px; line-height:1.8;">
                    <li>Zr√≥b wyra≈∫ne zdjƒôcie ca≈Çej ro≈õliny</li>
                    <li>Dobre o≈õwietlenie pomaga w rozpoznaniu</li>
                    <li>Mo≈ºesz sfotografowaƒá sam li≈õƒá lub kwiat</li>
                    <li>AI sprawdzi te≈º czy ro≈õlina jest zdrowa</li>
                </ul>
            </div>
        </div>
        
        <!-- ENCYCLOPEDIA -->
        <div id="page-encyclopedia" class="page">
            <h2 style="margin-bottom:16px;">üìö Encyklopedia</h2>
            
            <div class="search-box">
                <input type="text" placeholder="Szukaj ro≈õliny..." id="encyc-search" oninput="filterPlants()">
            </div>
            
            <div class="filters" id="filters">
                <button class="filter-btn active" onclick="setFilter('all', this)">Wszystkie</button>
                <button class="filter-btn" onclick="setFilter('popular', this)">üåü Popularne</button>
                <button class="filter-btn" onclick="setFilter('easy', this)">üë∂ ≈Åatwe</button>
                <button class="filter-btn" onclick="setFilter('flowering', this)">üå∏ KwitnƒÖce</button>
                <button class="filter-btn" onclick="setFilter('succulents', this)">üåµ Sukulenty</button>
                <button class="filter-btn" onclick="setFilter('tropical', this)">üå¥ Tropikalne</button>
                <button class="filter-btn" onclick="setFilter('special', this)">‚ú® Specjalne</button>
            </div>
            
            <div class="grid" id="encyc-grid"></div>
        </div>
        
        <!-- SETTINGS -->
        <div id="page-settings" class="page">
            <h2 style="margin-bottom:16px;">‚öôÔ∏è Ustawienia</h2>

            <!-- SYNCHRONIZACJA FIREBASE -->
            <div class="card">
                <div class="card-title">‚òÅÔ∏è Synchronizacja Firebase</div>

                <!-- Status banner -->
                <div id="sync-banner" class="sync-banner setup">
                    <span class="sync-status-dot offline"></span>
                    <span id="sync-status-text">Nie skonfigurowano synchronizacji</span>
                </div>

                <!-- Konfiguracja -->
                <div id="sync-config-section">
                    <p style="font-size:13px;color:var(--text-secondary);margin-bottom:12px;line-height:1.6;">
                        Aby synchronizowaƒá ro≈õliny miƒôdzy urzƒÖdzeniami, potrzebujesz darmowego projektu Firebase.
                        <a href="#" onclick="showFirebaseGuide();return false;" style="color:var(--accent);">Jak to zrobiƒá? ‚Üí</a>
                    </p>
                    <div class="form-group">
                        <label style="font-size:12px;color:var(--text-secondary);margin-bottom:6px;display:block;">Wklej konfiguracjƒô Firebase (firebaseConfig):</label>
                        <textarea class="config-textarea" id="firebase-config-input" placeholder='{"apiKey":"AIza...","authDomain":"...","projectId":"...","storageBucket":"...","messagingSenderId":"...","appId":"..."}'></textarea>
                    </div>
                    <button class="btn btn-primary btn-block" onclick="connectFirebase()">üî• Po≈ÇƒÖcz z Firebase</button>
                </div>

                <!-- Zalogowany ‚Äì UID i opcje -->
                <div id="sync-connected-section" style="display:none;">
                    <div style="font-size:12px;color:var(--text-secondary);margin-bottom:4px;">Twoje ID urzƒÖdzenia (wpisz na innym telefonie ≈ºeby zsynchronizowaƒá):</div>
                    <div class="sync-uid-box" id="sync-uid-display">‚Äì</div>
                    <div style="display:flex;gap:8px;margin-top:10px;">
                        <button class="btn btn-secondary" style="flex:1;" onclick="copyUID()">üìã Kopiuj ID</button>
                        <button class="btn btn-secondary" style="flex:1;" onclick="syncNow()">üîÑ Synchronizuj</button>
                    </div>
                    <div style="margin-top:10px;">
                        <label style="font-size:12px;color:var(--text-secondary);margin-bottom:6px;display:block;">Lub wpisz ID innego urzƒÖdzenia ≈ºeby przejƒÖƒá jego dane:</label>
                        <div style="display:flex;gap:8px;">
                            <input type="text" class="form-input" id="import-uid-input" placeholder="Wklej ID..." style="flex:1;font-size:12px;font-family:monospace;">
                            <button class="btn btn-primary" onclick="importFromUID()">üì• Importuj</button>
                        </div>
                    </div>
                    <button class="btn btn-secondary btn-block" style="margin-top:12px;color:var(--danger);border-color:var(--danger);" onclick="disconnectFirebase()">üîå Roz≈ÇƒÖcz</button>
                </div>
            </div>

            <!-- KLUCZ API GEMINI -->
            <div class="card">
                <div class="card-title">üîë Klucz API Gemini</div>
                <div class="form-group">
                    <input type="password" class="form-input" id="api-key" placeholder="Wklej klucz API...">
                </div>
                <p style="font-size:12px;color:var(--text-secondary);margin-bottom:12px;">
                    Pobierz darmowy klucz z <a href="https://aistudio.google.com/apikey" target="_blank">Google AI Studio</a>
                </p>
                <button class="btn btn-primary btn-block" onclick="saveApiKey()">üíæ Zapisz klucz</button>
            </div>
            
            <div class="card">
                <div class="card-title">üì¶ Dane lokalne</div>
                <div class="btn-group">
                    <button class="btn btn-secondary" onclick="exportData()">üì§ Eksport JSON</button>
                    <button class="btn btn-secondary" onclick="importData()">üì• Import JSON</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Navigation -->
    <nav class="nav">
        <div class="nav-inner">
            <button class="nav-btn active" onclick="showPage('home')" data-page="home">
                <span>üè†</span>
                <span>Start</span>
            </button>
            <button class="nav-btn" onclick="showPage('plants')" data-page="plants">
                <span>üåø</span>
                <span>Ro≈õliny</span>
            </button>
            <button class="nav-btn" onclick="showPage('scanner')" data-page="scanner">
                <span>üì∑</span>
                <span>Skanuj</span>
            </button>
            <button class="nav-btn" onclick="showPage('encyclopedia')" data-page="encyclopedia">
                <span>üìö</span>
                <span>Baza</span>
            </button>
        </div>
    </nav>
    
    <!-- Modal -->
    <div class="modal" id="modal" onclick="closeModal(event)">
        <div class="modal-content" onclick="event.stopPropagation()">
            <div class="modal-header">
                <div class="modal-title" id="modal-title">Szczeg√≥≈Çy</div>
                <button class="modal-close" onclick="closeModal()">‚úï</button>
            </div>
            <div class="modal-body" id="modal-body"></div>
        </div>
    </div>
    
    <!-- Toast -->
    <div class="toast" id="toast"></div>

    <script>
        // ===== DATABASE - 55 ro≈õlin z unikalnymi zdjƒôciami =====
        // ===== ROZSZERZONA BAZA 55 RO≈öLIN =====
        const encyclopediaDB = [
            // === POPULARNE ===
            { 
                id: 'monstera', name: 'Monstera', species: 'Monstera deliciosa', emoji: 'üåø', 
                image: 'https://upload.wikimedia.org/wikipedia/commons/thumb/6/63/Monstera_deliciosa2.jpg/400px-Monstera_deliciosa2.jpg', 
                category: ['popular', 'tropical'], difficulty: 'easy', origin: 'Meksyk, Panama', toxic: 'Tak - kryszta≈Çy szczawianu', maxHeight: '2-3m w domu',
                care: { water: 'Co 7-10 dni gdy wierzch przeschnie', light: 'Jasne rozproszone, bez bezpo≈õredniego s≈Ço≈Ñca', humidity: '60-80%', temperature: '18-27¬∞C' }, 
                description: 'Kr√≥lowa ro≈õlin doniczkowych! Charakterystyczne dziury w li≈õciach (fenestracja) pomagajƒÖ przetrwaƒá tropikalne burze. Im starsza ro≈õlina i wiƒôcej ≈õwiat≈Ça, tym wiƒôcej dziur.',
                funFacts: ['W naturze wspina siƒô na drzewa do 20m', 'Owoce sƒÖ jadalne i smakujƒÖ jak mix banana z ananasem', 'Dziury pojawiajƒÖ siƒô dopiero po 2-3 roku ≈ºycia', 'Korzenie powietrzne mo≈ºna kierowaƒá do ziemi'],
                diseases: ['≈ª√≥≈Çte li≈õcie = przelanie lub brak sk≈Çadnik√≥w', 'BrƒÖzowe plamy = oparzenie s≈Çoneczne', 'Czarne plamy = grzyb od nadmiaru wody', 'Brak dziur = za ma≈Ço ≈õwiat≈Ça'],
                propagation: 'Sadzonki pƒôdowe z minimum 1 wƒôz≈Çem i korzeniem powietrznym. Ukorzeniaj w wodzie lub perlicie. Korzenie po 2-4 tyg.'
            },
            { 
                id: 'pothos', name: 'Pothos (Epipremnum)', species: 'Epipremnum aureum', emoji: 'üíö', 
                image: 'https://upload.wikimedia.org/wikipedia/commons/thumb/9/9d/Epipremnum_aureum_31082012.jpg/400px-Epipremnum_aureum_31082012.jpg',
                category: ['popular', 'easy'], difficulty: 'easy', origin: 'Polinezja Francuska', toxic: 'Tak - dra≈ºniƒÖcy', maxHeight: '10m jako pnƒÖcze',
                care: { water: 'Co 7-14 dni, toleruje przesuszenie', light: 'Od cienia do jasnego - bardzo tolerancyjna', humidity: '40-60%', temperature: '15-30¬∞C' }, 
                description: 'Praktycznie niezniszczalna! Idealna dla poczƒÖtkujƒÖcych. Ro≈õnie nawet w s≈Çabo o≈õwietlonych biurach. Oczyszcza powietrze z formaldehydu i benzenu.',
                funFacts: ['NASA umie≈õci≈Ça jƒÖ w TOP 10 ro≈õlin oczyszczajƒÖcych powietrze', 'W naturze li≈õcie dorastajƒÖ do 1m!', 'Mo≈ºe rosnƒÖƒá w samej wodzie przez lata', 'Istnieje 15+ odmian o r√≥≈ºnych wzorach li≈õci'],
                diseases: ['≈ª√≥≈Çte li≈õcie = przelanie (najczƒôstszy b≈ÇƒÖd)', 'Blade li≈õcie = za ma≈Ço ≈õwiat≈Ça', 'BrƒÖzowe ko≈Ñc√≥wki = suche powietrze lub s√≥l w wodzie', 'Gnicie ≈Çodygi = zimno + wilgoƒá'],
                propagation: 'Naj≈Çatwiejsza do rozmna≈ºania! Odetnij pƒôd z 2-3 wƒôz≈Çami, w≈Ç√≥≈º do wody. Korzenie po 1-2 tyg. Mo≈ºna te≈º od razu do ziemi.'
            },
            { 
                id: 'sansevieria', name: 'Sansewieria (Wƒô≈ºownica)', species: 'Dracaena trifasciata', emoji: 'üó°Ô∏è', 
                image: 'https://upload.wikimedia.org/wikipedia/commons/thumb/f/fb/Sansevieria_trifasciata_Laurentii.jpg/400px-Sansevieria_trifasciata_Laurentii.jpg', 
                category: ['popular', 'easy', 'succulents'], difficulty: 'easy', origin: 'Afryka Zachodnia', toxic: 'Lekko toksyczna', maxHeight: '1.2m',
                care: { water: 'Co 2-4 tygodnie, zimƒÖ rzadziej', light: 'Od cienia do pe≈Çnego s≈Ço≈Ñca', humidity: '30-50%', temperature: '15-27¬∞C' }, 
                description: 'Niezniszczalna! Jedyna ro≈õlina produkujƒÖca tlen W NOCY (proces CAM). Idealna do sypialni. Przetrwa miesiƒÖce zaniedbania.',
                funFacts: ['Produkuje tlen nocƒÖ - ≈õwietna do sypialni', 'W≈Ç√≥kna u≈ºywano do produkcji ciƒôciw ≈Çuk√≥w i lin', 'Prze≈ºyje 2 miesiƒÖce bez wody', 'NASA poleca jƒÖ do stacji kosmicznych'],
                diseases: ['Miƒôkkie/gnijƒÖce li≈õcie = przelanie (g≈Ç√≥wny zab√≥jca!)', 'Pomarszczone li≈õcie = potrzebuje wody', 'BrƒÖzowe ko≈Ñc√≥wki = oparzenie lub zimno', 'Blade paski = za ma≈Ço ≈õwiat≈Ça'],
                propagation: 'Podzia≈Ç kƒôp (najszybciej) lub sadzonki li≈õciowe. Li≈õƒá pokr√≥j na 5cm kawa≈Çki, zasusz 2 dni, wsad≈∫ do piasku. Korzenie po 1-2 mies.'
            },
            { 
                id: 'ficus-lyrata', name: 'Figowiec lirolistny', species: 'Ficus lyrata', emoji: 'üéª', 
                image: 'https://upload.wikimedia.org/wikipedia/commons/thumb/1/1a/Ficus_lyrata_leaves.jpg/400px-Ficus_lyrata_leaves.jpg', 
                category: ['popular', 'tropical'], difficulty: 'medium', origin: 'Afryka Zachodnia', toxic: 'Tak - sok dra≈ºniƒÖcy', maxHeight: '3m w domu',
                care: { water: 'Co 7-10 dni gdy wierzch przeschnie 2-3cm', light: 'Jasne po≈õrednie, bez ostrego s≈Ço≈Ñca', humidity: '50-70%', temperature: '18-25¬∞C sta≈Ça!' }, 
                description: 'Gwiazda Instagrama i wnƒôtrzarskich magazyn√≥w! Wielkie li≈õcie w kszta≈Çcie skrzypiec. Nie lubi zmian - po przestawieniu mo≈ºe zrzuciƒá li≈õcie.',
                funFacts: ['W naturze dorasta do 15m', 'Li≈õcie mogƒÖ mieƒá 45cm d≈Çugo≈õci', 'Bardzo wra≈ºliwy na przeciƒÖgi', 'Lubi mieƒá sta≈Çe miejsce - nie przestawiaj!'],
                diseases: ['BrƒÖzowe plamy = nieregularne podlewanie lub bakterie', 'OpadajƒÖce li≈õcie = stres (zmiana miejsca, temp., przeciƒÖg)', '≈ª√≥≈Çte dolne li≈õcie = naturalne lub przelanie', 'Czerwone plamy = obrzƒôk (edema) od przelania'],
                propagation: 'Sadzonki wierzcho≈Çkowe lub rozmna≈ºanie w powietrzu (air layering). Trudniejszy ni≈º inne fikusy. Hormon ukorzeniajƒÖcy pomaga.'
            },
            { 
                id: 'spathiphyllum', name: 'Skrzyd≈Çokwiat', species: 'Spathiphyllum wallisii', emoji: 'ü§ç', 
                image: 'https://upload.wikimedia.org/wikipedia/commons/thumb/b/bd/Spathiphyllum_cochlearispathum_RTBG.jpg/400px-Spathiphyllum_cochlearispathum_RTBG.jpg', 
                category: ['popular', 'flowering', 'easy'], difficulty: 'easy', origin: 'Ameryka ≈örodkowa', toxic: 'Tak - kryszta≈Çy szczawianu', maxHeight: '1m',
                care: { water: 'Co 5-7 dni, lubi wilgoƒá', light: 'Cie≈Ñ do jasnego po≈õredniego', humidity: '50-70%', temperature: '18-27¬∞C' }, 
                description: 'Lilia pokoju - elegancka i ≈Çatwa! DRAMATYCZNIE wiƒôdnie gdy chce piƒá, ale szybko wraca do formy po podlaniu. ≈öwietnie oczyszcza powietrze.',
                funFacts: ['NASA TOP 10 do oczyszczania powietrza', 'Bia≈Çy "kwiat" to zmodyfikowany li≈õƒá (pochwa)', 'Mo≈ºe kwitnƒÖƒá ca≈Çy rok przy dobrych warunkach', 'Jeden z najlepszych filtr√≥w amoniaku'],
                diseases: ['Zwiƒôdniƒôcie = potrzebuje wody (podlej!)', '≈ª√≥≈Çte li≈õcie = przelanie lub stary li≈õƒá', 'BrƒÖzowe ko≈Ñc√≥wki = suche powietrze lub chlor w wodzie', 'Brak kwitnienia = za ma≈Ço ≈õwiat≈Ça'],
                propagation: 'Podzia≈Ç kƒôp przy przesadzaniu. Ka≈ºda czƒô≈õƒá musi mieƒá korzenie i min. 2-3 li≈õcie. Najlepiej wiosnƒÖ.'
            },
            { 
                id: 'philodendron', name: 'Filodendron sercowaty', species: 'Philodendron hederaceum', emoji: 'üíö', 
                image: 'https://upload.wikimedia.org/wikipedia/commons/thumb/c/c3/Philodendron_hederaceum_var._oxycardium.jpg/400px-Philodendron_hederaceum_var._oxycardium.jpg', 
                category: ['popular', 'easy', 'tropical'], difficulty: 'easy', origin: 'Ameryka ≈örodkowa i P≈Çd.', toxic: 'Tak - kryszta≈Çy szczawianu', maxHeight: '6m jako pnƒÖcze',
                care: { water: 'Co 7-10 dni', light: '≈örednie do jasnego po≈õredniego', humidity: '50-70%', temperature: '18-27¬∞C' }, 
                description: 'Klasyczne pnƒÖcze o uroczych sercowatych li≈õciach. Bardzo wdziƒôczna ro≈õlina - szybko ro≈õnie i ≈Çatwo siƒô rozmna≈ºa. Podobna do Pothos ale z matowymi li≈õƒámi.',
                funFacts: ['Istnieje ponad 450 gatunk√≥w Philodendron!', 'Nazwa znaczy "mi≈Ço≈õnik drzew" - w naturze wspina siƒô', 'Korzenie powietrzne pomagajƒÖ wspinaƒá siƒô', 'Odmiana Brasil ma ≈º√≥≈Çte smugi'],
                diseases: ['≈ª√≥≈Çte li≈õcie = przelanie', 'Ma≈Çe li≈õcie = za ma≈Ço ≈õwiat≈Ça lub nawoz√≥w', 'BrƒÖzowe ko≈Ñc√≥wki = suche powietrze', 'D≈Çugie odstƒôpy miƒôdzy li≈õƒámi = za ma≈Ço ≈õwiat≈Ça'],
                propagation: 'Bardzo ≈Çatwe! Sadzonki z wƒôz≈Çem w wodzie lub ziemi. Korzenie po 2-3 tyg. Mo≈ºna te≈º przygiƒÖƒá pƒôd do ziemi (marcotting).'
            },
            { 
                id: 'pilea', name: 'Pilea (PieniƒÖ≈ºek)', species: 'Pilea peperomioides', emoji: 'üí∞', 
                image: 'https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/Pilea_peperomioides_2018-05-14_3395.jpg/400px-Pilea_peperomioides_2018-05-14_3395.jpg', 
                category: ['popular', 'easy'], difficulty: 'easy', origin: 'Po≈Çudniowe Chiny', toxic: 'Nie - bezpieczna!', maxHeight: '40cm',
                care: { water: 'Co 7-10 dni gdy wierzch przeschnie', light: 'Jasne rozproszone, obracaj co tydzie≈Ñ', humidity: '50-60%', temperature: '15-24¬∞C' }, 
                description: 'Ro≈õlina przyja≈∫ni! Produkuje mn√≥stwo "dzieci" kt√≥re mo≈ºesz rozdawaƒá znajomym. OkrƒÖg≈Çe li≈õcie na d≈Çugich ogonkach wyglƒÖdajƒÖ jak monety.',
                funFacts: ['Przez dekady by≈Ça niemo≈ºliwa do kupienia - przekazywano sadzonki', 'Oficjalnie opisana naukowo dopiero w 1984!', 'Nazywana te≈º "UFO plant" od kszta≈Çtu li≈õci', 'Obracaj jƒÖ co tydzie≈Ñ bo ro≈õnie w stronƒô ≈õwiat≈Ça'],
                diseases: ['Zwijanie li≈õci = za du≈ºo s≈Ço≈Ñca lub potrzeba wody', '≈ª√≥≈Çte dolne li≈õcie = naturalne lub przelanie', 'OpadajƒÖce li≈õcie = przeciƒÖg lub zimno', 'Blade li≈õcie = za ma≈Ço ≈õwiat≈Ça'],
                propagation: 'Sama produkuje dzieci! Odetnij potomstwo gdy ma 5-7cm i w≈Çasne korzenie. Mo≈ºna te≈º ukorzeniaƒá w wodzie ≈Çody≈ºki z dzieƒámi.'
            },
            { 
                id: 'ficus-elastica', name: 'Fikus sprƒô≈ºysty', species: 'Ficus elastica', emoji: 'üå≥', 
                image: 'https://upload.wikimedia.org/wikipedia/commons/thumb/d/d9/Ficus_elastica_leaves.jpg/400px-Ficus_elastica_leaves.jpg', 
                category: ['popular', 'tropical'], difficulty: 'easy', origin: 'Indie, Indonezja', toxic: 'Tak - mleczny sok dra≈ºniƒÖcy', maxHeight: '3m w domu',
                care: { water: 'Co 7-10 dni', light: 'Jasne po≈õrednie do ≈õredniego', humidity: '40-60%', temperature: '16-27¬∞C' }, 
                description: 'Drzewko o spektakularnych b≈ÇyszczƒÖcych li≈õciach! Dawniej g≈Ç√≥wne ≈∫r√≥d≈Ço kauczuku naturalnego. Odmiana Burgundy ma prawie czarne li≈õcie.',
                funFacts: ['W XIX wieku by≈Ç g≈Ç√≥wnym ≈∫r√≥d≈Çem gumy', 'W naturze dorasta do 30m!', 'Li≈õcie mogƒÖ mieƒá 30cm d≈Çugo≈õci', 'Odmiana Tineke ma r√≥≈ºowo-kremowe przebarwienia'],
                diseases: ['OpadajƒÖce li≈õcie = stres (zimno, przeciƒÖg, zmiana miejsca)', '≈ª√≥≈Çte li≈õcie = przelanie', 'BrƒÖzowe plamy = oparzenie s≈Çoneczne', 'Py≈Çki na li≈õciach = czy≈õciƒá wilgotnƒÖ ≈õciereczkƒÖ'],
                propagation: 'Sadzonki wierzcho≈Çkowe lub rozmna≈ºanie w powietrzu (air layering). Sok mleczny - u≈ºywaj rƒôkawiczek! Hormon ukorzeniajƒÖcy przyspiesza.'
            },
            { 
                id: 'dracaena', name: 'Dracena obrze≈ºona', species: 'Dracaena marginata', emoji: 'üå¥', 
                image: 'https://upload.wikimedia.org/wikipedia/commons/thumb/a/ae/Dracaena_fragrans_Massangeana.jpg/400px-Dracaena_fragrans_Massangeana.jpg', 
                category: ['popular', 'tropical'], difficulty: 'easy', origin: 'Madagaskar', toxic: 'Dla ps√≥w i kot√≥w!', maxHeight: '3m w domu',
                care: { water: 'Co 10-14 dni, lubi przesychaƒá', light: '≈örednie do jasnego', humidity: '40-60%', temperature: '18-27¬∞C' }, 
                description: 'Eleganckie smuk≈Çe drzewko z czerwono obrze≈ºonymi li≈õƒámi. Bardzo tolerancyjna na zaniedbanie. Oczyszcza powietrze z toksyn.',
                funFacts: ['Nazwa "dracaena" znaczy "smoczyca" - ma czerwonƒÖ ≈ºywicƒô', 'NASA poleca do usuwania formaldehydu', 'Mo≈ºe ≈ºyƒá ponad 100 lat', 'Odmiana Tricolor ma r√≥≈ºowo-kremowe paski'],
                diseases: ['BrƒÖzowe ko≈Ñc√≥wki = chlor/fluor w wodzie lub suche powietrze', '≈ª√≥≈Çte dolne li≈õcie = naturalne starzenie', 'Miƒôkka ≈Çodyga = przelanie i gnicie', 'Blade li≈õcie = za ma≈Ço ≈õwiat≈Ça'],
                propagation: 'Sadzonki wierzcho≈Çkowe lub kawa≈Çki ≈Çodygi (5-10cm). Ukorzenia siƒô w wodzie lub perlicie. Mo≈ºna odciƒÖƒá wierzcho≈Çek - pie≈Ñ pu≈õci nowe pƒôdy.'
            },
            { 
                id: 'zamioculcas', name: 'Zamiokulkas', species: 'Zamioculcas zamiifolia', emoji: '‚ú®', 
                image: 'https://upload.wikimedia.org/wikipedia/commons/thumb/5/5f/Zamioculcas_zamiifolia_1.jpg/400px-Zamioculcas_zamiifolia_1.jpg', 
                category: ['popular', 'easy'], difficulty: 'easy', origin: 'Afryka Wschodnia', toxic: 'Tak - kryszta≈Çy szczawianu', maxHeight: '1m',
                care: { water: 'Co 2-4 tygodnie lub rzadziej!', light: 'Od cienia do jasnego', humidity: '40-60%', temperature: '15-27¬∞C' }, 
                description: 'ZZ Plant - kr√≥l zaniedbania! Przetrwa miesiƒÖce bez wody dziƒôki grubym k≈ÇƒÖczom magazynujƒÖcym wodƒô. B≈ÇyszczƒÖce li≈õcie odbijajƒÖ ≈õwiat≈Ço.',
                funFacts: ['Odkryty dla hodowli dopiero w 1996!', 'Prze≈ºyje 4 miesiƒÖce bez wody', 'Ro≈õnie nawet w biurze bez okien (ale wolniej)', 'Odmiana Raven ma prawie czarne li≈õcie'],
                diseases: ['≈ª√≥≈Çte li≈õcie = PRZELANIE (g≈Ç√≥wny zab√≥jca!)', 'Pomarszczone ≈Çodygi = potrzeba wody (rzadkie)', 'BrƒÖzowe plamy = oparzenie s≈Çoneczne', 'Brak wzrostu = za ma≈Ço ≈õwiat≈Ça'],
                propagation: 'Podzia≈Ç k≈ÇƒÖczy lub sadzonki li≈õciowe (BARDZO WOLNO - 6-12 mies.). Najlepiej dzieliƒá przy przesadzaniu. Pojedynczy listek mo≈ºe daƒá nowƒÖ ro≈õlinƒô.'
            },
            { 
                id: 'monstera-adansonii', name: 'Monstera dziurawa', species: 'Monstera adansonii', emoji: 'üï≥Ô∏è', 
                image: 'https://upload.wikimedia.org/wikipedia/commons/thumb/e/e4/Monstera_adansonii_leaf.jpg/400px-Monstera_adansonii_leaf.jpg', 
                category: ['popular', 'tropical'], difficulty: 'easy', origin: 'Ameryka ≈örodkowa i P≈Çd.', toxic: 'Tak', maxHeight: '4m jako pnƒÖcze',
                care: { water: 'Co 7-10 dni', light: 'Jasne rozproszone', humidity: '60-80% - lubi wilgoƒá!', temperature: '18-27¬∞C' }, 
                description: 'Mniejsza kuzynka Monstery deliciosa z mniejszymi li≈õƒámi pe≈Çnymi owalnych dziur. Szybko ro≈õnie i piƒôknie zwisa lub wspina siƒô.',
                funFacts: ['Nazywana Swiss Cheese Vine', 'Dziury pojawiajƒÖ siƒô od m≈Çodo≈õci (w przeciwie≈Ñstwie do M. deliciosa)', 'Mo≈ºe rosnƒÖƒá 30cm miesiƒôcznie!', 'W naturze wspina siƒô na drzewa'],
                diseases: ['≈ª√≥≈Çte li≈õcie = przelanie', 'Brak dziur = za ma≈Ço ≈õwiat≈Ça', 'BrƒÖzowe krawƒôdzie = suche powietrze', 'Ma≈Çe li≈õcie = potrzebuje podpory do wspinania'],
                propagation: 'Bardzo ≈Çatwe! Sadzonki z wƒôz≈Çem w wodzie lub sphagnum. Korzenie po 2-3 tyg. Mo≈ºna ukorzeniaƒá nawet w s≈Çoiku na parapecie.'
            },
            { 
                id: 'palm-areca', name: 'Areka (Palma z≈Çota)', species: 'Dypsis lutescens', emoji: 'üå¥', 
                image: 'https://upload.wikimedia.org/wikipedia/commons/thumb/4/4b/Dypsis_lutescens1.jpg/400px-Dypsis_lutescens1.jpg', 
                category: ['popular', 'tropical'], difficulty: 'medium', origin: 'Madagaskar', toxic: 'Nie - bezpieczna!', maxHeight: '2.5m w domu',
                care: { water: 'Co 5-7 dni, lubi wilgotnƒÖ glebƒô', light: 'Jasne po≈õrednie', humidity: '50-60%', temperature: '18-24¬∞C' }, 
                description: 'Najpopularniejsza palma domowa! Eleganckie pierzaste li≈õcie wnoszƒÖ tropikalny klimat. Naturalny nawil≈ºacz - oddaje du≈ºo wody.',
                funFacts: ['Transpiruje nawet 1 litr wody dziennie!', 'NASA TOP 10 do oczyszczania powietrza', 'Na Madagaskarze jest zagro≈ºona wyginiƒôciem', '≈ª√≥≈Çtawe ≈Çodygi to cecha gatunkowa, nie choroba'],
                diseases: ['BrƒÖzowe ko≈Ñc√≥wki = suche powietrze lub s√≥l w ziemi', '≈ª√≥≈Çte li≈õcie = przelanie lub za ma≈Ço sk≈Çadnik√≥w', 'Przƒôdziorek = suche powietrze (zraszaj!)', 'BrƒÖzowe plamy = oparzenie s≈Çoneczne'],
                propagation: 'Tylko z nasion lub podzia≈Ç kƒôpy (je≈õli ma wiele pƒôd√≥w). Nasiona kie≈ÇkujƒÖ 2-3 miesiƒÖce. Podzia≈Ç trudny - palmy nie lubiƒÖ ruszania korzeni.'
            },
            // === KWITNƒÑCE ===
            { 
                id: 'orchid', name: 'Storczyk Falenopsis', species: 'Phalaenopsis', emoji: 'ü¶ã', 
                image: 'https://upload.wikimedia.org/wikipedia/commons/thumb/d/da/Phalaenopsis_ORCH_2008.jpg/400px-Phalaenopsis_ORCH_2008.jpg', 
                category: ['flowering', 'popular'], difficulty: 'medium', origin: 'Azja P≈Çd-Wsch.', toxic: 'Nie - bezpieczny!', maxHeight: '60cm',
                care: { water: 'Co 7-10 dni zanurzenie na 15 min', light: 'Jasne rozproszone, bez bezpo≈õredniego s≈Ço≈Ñca', humidity: '50-70%', temperature: '18-25¬∞C, spadek nocƒÖ pomaga kwitnieniu' }, 
                description: 'Najpopularniejszy storczyk! Kwitnie nawet 3-4 miesiƒÖce. Wbrew mitom - wcale nie jest trudny. Kluczem jest odpowiednie podlewanie i ≈õwiat≈Ço.',
                funFacts: ['Kwitnienie mo≈ºna przed≈Çu≈ºyƒá ch≈Çodem (18¬∞C) i cieniem', 'Po przekwitniƒôciu przytnij ≈Çodygƒô nad 3. wƒôz≈Çem - mo≈ºe zakwitnƒÖƒá ponownie!', 'Korzenie fotosyntezujƒÖ - lubiƒÖ przezroczyste doniczki', 'Rodzina storczyk√≥w ma 28 000 gatunk√≥w!'],
                diseases: ['≈ª√≥≈Çte/miƒôkkie li≈õcie = przelanie i gnicie korzeni', 'Pomarszczone li≈õcie = za ma≈Ço wody', 'PƒÖki opadajƒÖ = stres (przeciƒÖg, zmiana miejsca, etyleny z owoc√≥w)', 'Czarne plamy = infekcja bakteryjna (odetnij!)'],
                propagation: 'Trudne w domu. Czasem ro≈õlina wypuszcza keiki (dzieci) na ≈Çodydze kwiatowej. Odetnij gdy ma 2-3 li≈õcie i korzenie 5cm+.'
            },
            { 
                id: 'anthurium', name: 'Anturium', species: 'Anthurium andraeanum', emoji: '‚ù§Ô∏è', 
                image: 'https://upload.wikimedia.org/wikipedia/commons/thumb/5/5a/Anthurium_andraeanum_1.jpg/400px-Anthurium_andraeanum_1.jpg', 
                category: ['flowering', 'tropical'], difficulty: 'medium', origin: 'Kolumbia, Ekwador', toxic: 'Tak - kryszta≈Çy szczawianu', maxHeight: '60cm',
                care: { water: 'Co 5-7 dni', light: 'Jasne rozproszone', humidity: '60-80%', temperature: '20-28¬∞C' }, 
                description: 'Spektakularne lakierowane "kwiaty" to tak naprawdƒô zmodyfikowane li≈õcie (pochwy). Prawdziwe kwiaty sƒÖ na ≈º√≥≈Çtej kolbie. Kwitnie przez ca≈Çy rok!',
                funFacts: ['Jeden "kwiat" utrzymuje siƒô 2-3 miesiƒÖce!', 'Kolumbia eksportuje miliony anturi√≥w rocznie', 'Istnieje ponad 1000 gatunk√≥w', 'Nazwa znaczy "kwiat-ogon" po grecku'],
                diseases: ['BrƒÖzowe li≈õcie = suche powietrze lub oparzenie', '≈ª√≥≈Çte li≈õcie = przelanie', 'Brak kwitnienia = za ma≈Ço ≈õwiat≈Ça', 'Czarne plamy = zimna woda lub bakterie'],
                propagation: 'Podzia≈Ç kƒôp lub sadzonki pƒôdowe z korzeniami powietrznymi. Najlepiej podczas przesadzania wiosnƒÖ. W wodzie ukorzenia siƒô wolniej.'
            },
            { 
                id: 'kalanchoe', name: 'Kalanchoe', species: 'Kalanchoe blossfeldiana', emoji: 'üå∫', 
                image: 'https://upload.wikimedia.org/wikipedia/commons/thumb/9/9f/Kalanchoe_blossfeldiana.jpg/400px-Kalanchoe_blossfeldiana.jpg', 
                category: ['flowering', 'succulents', 'easy'], difficulty: 'easy', origin: 'Madagaskar', toxic: 'Tak dla zwierzƒÖt!', maxHeight: '40cm',
                care: { water: 'Co 10-14 dni gdy gleba wyschnie', light: 'Jasne do s≈Çonecznego', humidity: '30-50%', temperature: '15-25¬∞C' }, 
                description: 'Sukulent z masƒÖ kolorowych kwiatk√≥w! Po przekwitniƒôciu mo≈ºna wymusiƒá ponowne kwitnienie. Bardzo ≈Çatwy w uprawie.',
                funFacts: ['Kwitnie przez 8 tygodni!', 'Potrzebuje "kr√≥tkiego dnia" (14h ciemno≈õci) przez 6 tyg. by zakwitnƒÖƒá ponownie', 'Istnieje 125 gatunk√≥w', 'Li≈õcie magazynujƒÖ wodƒô jak sukulent'],
                diseases: ['Wyd≈Çu≈ºanie siƒô = za ma≈Ço ≈õwiat≈Ça', 'Gnicie ≈Çodygi = przelanie', 'MƒÖczlik/mszyce = sprawdzaj regularnie', 'Brak kwitnienia = potrzebuje okresu ciemno≈õci'],
                propagation: 'Bardzo ≈Çatwe! Sadzonki ≈Çodygowe lub li≈õciowe. Li≈õƒá po≈Ç√≥≈º na ziemi - z brzegu wyrosnƒÖ dzieci. Sadzonki ukorzeniajƒÖ siƒô w 2-3 tyg.'
            },
            { 
                id: 'begonia', name: 'Begonia kr√≥lewska', species: 'Begonia rex', emoji: 'üëë', 
                image: 'https://upload.wikimedia.org/wikipedia/commons/thumb/8/8e/Begonia_Rex_Escargot.jpg/400px-Begonia_Rex_Escargot.jpg', 
                category: ['flowering', 'tropical'], difficulty: 'medium', origin: 'Indie (Assam)', toxic: 'Tak - szczeg√≥lnie k≈ÇƒÖcze', maxHeight: '50cm',
                care: { water: 'Co 5-7 dni, unikaj li≈õci', light: 'Jasne rozproszone', humidity: '50-70%', temperature: '18-24¬∞C' }, 
                description: 'Uprawiana dla SPEKTAKULARNYCH wzorzystych li≈õci, nie kwiat√≥w! Spiralne, srebrne, r√≥≈ºowe, bordowe wzory. Kr√≥lowa begonii.',
                funFacts: ['Istnieje ponad 2000 gatunk√≥w begonii!', 'Wzory na li≈õciach sƒÖ unikalne jak odciski palc√≥w', 'Kwiaty sƒÖ niepozorne - usuwa siƒô je by wzmocniƒá li≈õcie', 'Nazwa od Michela B√©gona - gubernatora Haiti'],
                diseases: ['MƒÖczniak prawdziwy = za wilgotno, za gƒôsto', 'Gnicie ≈Çodygi = woda na li≈õciach lub przelanie', 'BrƒÖzowe krawƒôdzie = suche powietrze', 'Blade li≈õcie = za ma≈Ço ≈õwiat≈Ça'],
                propagation: 'Sadzonki li≈õciowe! Natnij ≈ºy≈Çki na spodzie li≈õcia, po≈Ç√≥≈º na wilgotnej ziemi. Z naciƒôƒá wyrosnƒÖ nowe ro≈õliny. Magia!'
            },
            { 
                id: 'african-violet', name: 'Fio≈Çek afryka≈Ñski', species: 'Saintpaulia ionantha', emoji: 'üíú', 
                image: 'https://upload.wikimedia.org/wikipedia/commons/thumb/f/f5/African_violet_Saintpaulia_ionantha.jpg/400px-African_violet_Saintpaulia_ionantha.jpg', 
                category: ['flowering', 'easy'], difficulty: 'easy', origin: 'Tanzania', toxic: 'Nie - bezpieczny!', maxHeight: '20cm',
                care: { water: 'Co 5-7 dni OD SPODU (wick watering)', light: 'Jasne rozproszone, ≈õwietnie pod lampƒÖ', humidity: '50-60%', temperature: '18-24¬∞C sta≈Ça' }, 
                description: 'Kompaktowy kwiatek kwitnƒÖcy przez ca≈Çy rok! NIGDY nie moczyƒá li≈õci - zostawiajƒÖ plamy. Idealny na parapet, ≈õwietnie ro≈õnie pod lampami.',
                funFacts: ['Istnieje 16 000+ odmian!', 'Pierwszy fio≈Çek odkryto w 1892 w Tanzanii', 'Kwitnie 10-12 miesiƒôcy w roku', 'Ka≈ºdy kolor opr√≥cz ≈º√≥≈Çtego - nigdy nie uda≈Ço siƒô go wyhodowaƒá'],
                diseases: ['Plamy na li≈õciach = zimna woda lub s≈Ço≈Ñce przez mokre li≈õcie', 'Brak kwitnienia = za ma≈Ço ≈õwiat≈Ça', 'Gnicie korony = woda w ≈õrodku rozety', 'MƒÖczlik = bia≈Çy nalot na li≈õciach'],
                propagation: 'Sadzonki li≈õciowe w wodzie lub ziemi. Odetnij li≈õƒá z 2cm ogonkiem, w≈Ç√≥≈º do wody. Dzieci po 2-3 mies. Cierpliwo≈õƒá!'
            },
            { 
                id: 'hibiscus', name: 'Hibiskus chi≈Ñski', species: 'Hibiscus rosa-sinensis', emoji: 'üå∫', 
                image: 'https://upload.wikimedia.org/wikipedia/commons/thumb/5/5a/Hibiscus_rosa-sinensis_flower_2.jpg/400px-Hibiscus_rosa-sinensis_flower_2.jpg', 
                category: ['flowering', 'tropical'], difficulty: 'medium', origin: 'Azja Tropikalna', toxic: 'Nie - kwiaty jadalne!', maxHeight: '2m w domu',
                care: { water: 'Co 3-5 dni, nie lubi przesychaƒá', light: 'Pe≈Çne s≈Ço≈Ñce - minimum 6h', humidity: '50-70%', temperature: '18-30¬∞C, zimƒÖ min. 10¬∞C' }, 
                description: 'Spektakularne kwiaty do 15cm! Ka≈ºdy kwiat ≈ºyje tylko 1-2 dni, ale ro≈õlina produkuje nowe przez ca≈Çy sezon. ZimƒÖ odpoczynek.',
                funFacts: ['Kwiaty sƒÖ jadalne - u≈ºywane w herbatach', 'Herbata z hibiskusa obni≈ºa ci≈õnienie krwi', 'Kwiat narodowy Malezji i Korei P≈Çd.', 'Jeden krzew mo≈ºe daƒá 100+ kwiat√≥w w sezonie'],
                diseases: ['OpadajƒÖce pƒÖki = stres (przeciƒÖg, zimno, zmiana miejsca)', '≈ª√≥≈Çte li≈õcie = przelanie lub chloroza (brak ≈ºelaza)', 'Mszyce = czƒôsty problem, sprawdzaj pƒÖki', 'Brak kwitnienia = za ma≈Ço s≈Ço≈Ñca'],
                propagation: 'Sadzonki p√≥≈Çzdrewnia≈Çe latem. Odetnij 10-15cm pƒôd, usu≈Ñ dolne li≈õcie, zanurz w hormonie, wsad≈∫ w piasek. Ciep≈Ço i wilgoƒá. Korzenie po 4-8 tyg.'
            },
            { 
                id: 'cyclamen', name: 'Cyklamen perski', species: 'Cyclamen persicum', emoji: 'üå∏', 
                image: 'https://upload.wikimedia.org/wikipedia/commons/thumb/c/c2/Cyclamen_persicum_white.jpg/400px-Cyclamen_persicum_white.jpg', 
                category: ['flowering'], difficulty: 'medium', origin: 'Bliski Wsch√≥d', toxic: 'Tak - szczeg√≥lnie bulwa!', maxHeight: '30cm',
                care: { water: 'Co 3-5 dni od spodu gdy przeschnie', light: 'Jasne ch≈Çodne', humidity: '50-60%', temperature: '10-18¬∞C - LUBI CH≈Å√ìD!' }, 
                description: 'Zimowy kwiat kt√≥ry UWIELBIA ch≈Ç√≥d! Kwitnie od jesieni do wiosny gdy inne ≈õpiƒÖ. Latem przechodzi w spoczynek - to normalne.',
                funFacts: ['Kwitnie gdy jest ZIMNO (10-15¬∞C idealne)', 'Latem traci li≈õcie i ≈õpi - nie wyrzucaj!', 'Bulwa mo≈ºe ≈ºyƒá 100 lat', 'Motyle zapylajƒÖce go majƒÖ takƒÖ samƒÖ d≈Çugo≈õƒá jƒôzyczka jak rurka kwiatu'],
                diseases: ['Wiƒôdniƒôcie = za ciep≈Ço lub potrzeba wody', '≈ª√≥≈Çte li≈õcie = za ciep≈Ço lub przelanie', 'Szara ple≈õ≈Ñ = za wilgotno, s≈Çaba wentylacja', 'Gnicie bulwy = woda w ≈õrodku ro≈õliny'],
                propagation: 'Z nasion (trudne, 9-12 mies. do kwitnienia) lub podzia≈Ç bulwy (ryzykowne). Wiƒôkszo≈õƒá ludzi kupuje nowe ro≈õliny.'
            },
            { 
                id: 'hoya', name: 'Hoja (Woskownica)', species: 'Hoya carnosa', emoji: '‚≠ê', 
                image: 'https://upload.wikimedia.org/wikipedia/commons/thumb/b/b4/Hoya_carnosa1.jpg/400px-Hoya_carnosa1.jpg', 
                category: ['flowering', 'tropical'], difficulty: 'easy', origin: 'Azja, Australia', toxic: 'Nie - bezpieczna!', maxHeight: '4m jako pnƒÖcze',
                care: { water: 'Co 10-14 dni gdy dobrze przeschnie', light: 'Jasne po≈õrednie', humidity: '40-60%', temperature: '15-27¬∞C' }, 
                description: 'Woskowe li≈õcie i NIESAMOWICIE pachnƒÖce kuliste kwiatostany! Kwiaty wydzielajƒÖ s≈Çodki nektar. NIE usuwaj szypu≈Çek - kwitnƒÖ wielokrotnie!',
                funFacts: ['Kwiaty wydzielajƒÖ krople nektaru - mo≈ºna zlizaƒá!', 'Istnieje ponad 500 gatunk√≥w Hoya', 'Szypu≈Çka kwitnie wielokrotnie - nigdy nie usuwaj', 'Najstarsza Hoya mia≈Ça ponad 50 lat'],
                diseases: ['Brak kwitnienia = cierpliwo≈õƒá (3-5 lat) lub za ma≈Ço ≈õwiat≈Ça', '≈ª√≥≈Çte li≈õcie = przelanie', 'MƒÖczlik = bia≈Çy puszek przy li≈õciach', 'OpadajƒÖce pƒÖki = zmiana warunk√≥w'],
                propagation: 'Sadzonki ≈Çodygowe w wodzie lub sphagnum. Minimum 2 wƒôz≈Çy. Korzenie po 4-8 tyg. Marcottage te≈º dzia≈Ça ≈õwietnie.'
            },
            { 
                id: 'schlumbergera', name: 'Grudnik (Kaktus bo≈ºonarodzeniowy)', species: 'Schlumbergera truncata', emoji: 'üéÑ', 
                image: 'https://upload.wikimedia.org/wikipedia/commons/thumb/a/a7/Schlumbergera_truncata_flower.jpg/400px-Schlumbergera_truncata_flower.jpg', 
                category: ['flowering', 'succulents'], difficulty: 'easy', origin: 'Brazylia (g√≥ry)', toxic: 'Nie - bezpieczny!', maxHeight: '30cm',
                care: { water: 'Co 7-10 dni gdy wierzch przeschnie', light: 'Jasne rozproszone', humidity: '50-60%', temperature: '15-21¬∞C, spadek jesieniƒÖ indukuje kwitnienie' }, 
                description: 'Kwitnie na ≈õwiƒôta! Potrzebuje "kr√≥tkiego dnia" (ciemno≈õƒá 12-14h) przez 6 tyg. jesieniƒÖ i spadku temperatury. Potem obsypuje siƒô kwiatami.',
                funFacts: ['Mo≈ºe ≈ºyƒá ponad 100 lat!', 'W naturze ro≈õnie na drzewach jako epifit', 'Kwitnie te≈º na Wielkanoc je≈õli zaindukujesz jesieniƒÖ', 'Przekazywany z pokolenia na pokolenie'],
                diseases: ['Opadanie pƒÖk√≥w = stres (ruszanie, temp., przeciƒÖg)', 'Pomarszczone segmenty = za ma≈Ço wody', 'Czerwone segmenty = za du≈ºo s≈Ço≈Ñca (ale mo≈ºe te≈º kwitnƒÖƒá!)', 'Gnicie = przelanie'],
                propagation: 'Bardzo ≈Çatwe! Od≈Çam segment (2-3 cz≈Çony), zasusz 1-2 dni, wsad≈∫ do ziemi. Korzenie po 3-6 tyg. R√≥b wiosnƒÖ/latem.'
            },
            { 
                id: 'gardenia', name: 'Gardenia', species: 'Gardenia jasminoides', emoji: 'ü§ç', 
                image: 'https://upload.wikimedia.org/wikipedia/commons/thumb/c/c2/Gardenia_jasminoides_cv1.jpg/400px-Gardenia_jasminoides_cv1.jpg', 
                category: ['flowering'], difficulty: 'hard', origin: 'Chiny, Japonia', toxic: 'Lekko dla zwierzƒÖt', maxHeight: '1.5m',
                care: { water: 'Co 3-5 dni wodƒÖ miƒôkkƒÖ/deszczowƒÖ', light: 'Jasne po≈õrednie', humidity: '60-80% - wymaga!', temperature: '18-24¬∞C, nocƒÖ ch≈Çodniej' }, 
                description: 'NAJPIƒòKNIEJSZY zapach! Kremowobia≈Çe kwiaty o odurzajƒÖcym aromacie. DIVA w≈õr√≥d ro≈õlin - wymaga idealnych warunk√≥w. Dla do≈õwiadczonych.',
                funFacts: ['Zapach u≈ºywany w perfumach od wiek√≥w', 'Kwiaty ≈º√≥≈ÇknƒÖ z wiekiem - to normalne', 'W Azji symbol czysto≈õci i mi≈Ço≈õci', 'Jeden z najtrudniejszych kwiat√≥w domowych'],
                diseases: ['≈ª√≥≈Çte li≈õcie z zielonymi ≈ºy≈Çkami = chloroza (potrzebuje kwa≈õnej gleby, ≈ºelaza)', 'OpadajƒÖce pƒÖki = stres, zmiany warunk√≥w, suche powietrze', 'Czarny nalot = chermes (mszyca)', 'BrƒÖzowe krawƒôdzie = suche powietrze lub twarda woda'],
                propagation: 'Sadzonki p√≥≈Çzdrewnia≈Çe latem z hormonem ukorzeniajƒÖcym. Ciep≈Ço dna (20-24¬∞C), wysoka wilgotno≈õƒá. Trudne - lepiej kupiƒá.'
            },
            // === SUKULENTY ===
            { 
                id: 'echeveria', name: 'Echeweria', species: 'Echeveria elegans', emoji: 'ü™∑', 
                image: 'https://upload.wikimedia.org/wikipedia/commons/thumb/3/3b/Echeveria_colorata.jpg/400px-Echeveria_colorata.jpg', 
                category: ['succulents', 'easy'], difficulty: 'easy', origin: 'Meksyk', toxic: 'Nie - bezpieczna!', maxHeight: '15cm',
                care: { water: 'Co 2-3 tygodnie gdy gleba sucha', light: 'Pe≈Çne s≈Ço≈Ñce - minimum 4-6h', humidity: '30-40%', temperature: '10-27¬∞C' }, 
                description: 'Idealna r√≥≈ºyczka! Woskowy nalot chroni przed s≈Ço≈Ñcem. Stresowana silnym ≈õwiat≈Çem zyskuje piƒôkne czerwone/r√≥≈ºowe brzegi li≈õci.',
                funFacts: ['Woskowy nalot (farina) chroni przed s≈Ço≈Ñcem - nie dotykaj!', 'Stres = piƒôkne kolory (czerwone brzegi)', 'Istnieje 150+ gatunk√≥w', 'Nazwa od meksyka≈Ñskiego botanika Echeverr√≠a'],
                diseases: ['Wyd≈Çu≈ºanie (etiolacja) = za ma≈Ço ≈õwiat≈Ça', 'Gnicie od do≈Çu = przelanie', 'MƒÖczlik = bia≈Çy puszek miƒôdzy li≈õƒámi', 'BrƒÖzowe dolne li≈õcie = naturalne zrzucanie'],
                propagation: '≈Åatwe! Li≈õƒá po≈Ç√≥≈º na suchej ziemi, z ko≈Ñca wyro≈õnie dziecko. Lub odetnij dzieci od matki. Nie podlewaj a≈º ma korzenie!'
            },
            { 
                id: 'aloe', name: 'Aloes zwyczajny', species: 'Aloe vera', emoji: 'üå±', 
                image: 'https://upload.wikimedia.org/wikipedia/commons/thumb/4/4b/Aloe_vera_flower_inridge.jpg/400px-Aloe_vera_flower_inridge.jpg', 
                category: ['succulents', 'easy', 'popular'], difficulty: 'easy', origin: 'P√≥≈Çwysep Arabski', toxic: 'Sk√≥rka tak, ≈ºel nie', maxHeight: '100cm',
                care: { water: 'Co 2-3 tygodnie', light: 'Jasne do pe≈Çnego s≈Ço≈Ñca', humidity: '30-50%', temperature: '13-27¬∞C' }, 
                description: '≈ªel ≈Çagodzi oparzenia, nawil≈ºa sk√≥rƒô, pomaga na trƒÖdzik! Apteczka w doniczce. Bardzo ≈Çatwy w uprawie.',
                funFacts: ['U≈ºywany medycznie od 6000 lat!', 'Kleopatra stosowa≈Ça go do pielƒôgnacji', 'NASA bada go do produkcji tlenu w kosmosie', 'Jeden z najstarszych znanych suplement√≥w'],
                diseases: ['BrƒÖzowe li≈õcie = oparzenie s≈Çoneczne', 'Miƒôkkie li≈õcie = przelanie i gnicie', 'Pomarszczone li≈õcie = potrzebuje wody (rzadkie)', 'BrƒÖzowe ko≈Ñc√≥wki = naturalne lub za sucho'],
                propagation: 'Oddziel dzieci od matki gdy majƒÖ 5-10cm. Zostaw do przeschniƒôcia 1-2 dni, posad≈∫ w suchƒÖ ziemiƒô. Podlej po tygodniu.'
            },
            { 
                id: 'crassula', name: 'Grubosz (Drzewko szczƒô≈õcia)', species: 'Crassula ovata', emoji: 'üå≥', 
                image: 'https://upload.wikimedia.org/wikipedia/commons/thumb/f/f8/Crassula_ovata_-_Jade_Plant.jpg/400px-Crassula_ovata_-_Jade_Plant.jpg', 
                category: ['succulents', 'easy'], difficulty: 'easy', origin: 'RPA', toxic: 'Tak dla zwierzƒÖt!', maxHeight: '2m (ale latami)',
                care: { water: 'Co 2-3 tygodnie', light: 'Jasne do pe≈Çnego s≈Ço≈Ñca', humidity: '30-50%', temperature: '12-27¬∞C, zimƒÖ ch≈Çodniej' }, 
                description: 'Symbol bogactwa i szczƒô≈õcia w feng shui! Grube li≈õcie magazynujƒÖ wodƒô. Mo≈ºe staƒá siƒô okaza≈Çym mini-drzewkiem ≈ºyjƒÖcym 100+ lat.',
                funFacts: ['Najstarszy znany okaz mia≈Ç 4m i 100+ lat!', 'Wed≈Çug feng shui przyciƒÖga pieniƒÖdze', 'Stres (s≈Ço≈Ñce, sucho) = czerwone brzegi li≈õci', 'Mo≈ºe kwitnƒÖƒá drobnym r√≥≈ºowymi kwiatkami zimƒÖ'],
                diseases: ['Opadanie li≈õci = przelanie lub szok termiczny', 'Miƒôkka ≈Çodyga = gnicie od nadmiaru wody', 'Wyd≈Çu≈ºanie = za ma≈Ço ≈õwiat≈Ça', 'BrƒÖzowe plamy = oparzenie (stopniowo aklimatyzuj do s≈Ço≈Ñca)'],
                propagation: 'Naj≈Çatwiejszy sukulent! Li≈õƒá lub sadzonka ≈Çodygowa. Zasusz 2-3 dni, po≈Ç√≥≈º/wsad≈∫ do ziemi. Korzenie po 2-4 tyg.'
            },
            { 
                id: 'haworthia', name: 'Haworcja', species: 'Haworthiopsis attenuata', emoji: 'ü¶ì', 
                image: 'https://upload.wikimedia.org/wikipedia/commons/thumb/1/19/Haworthia_attenuata.jpg/400px-Haworthia_attenuata.jpg', 
                category: ['succulents', 'easy'], difficulty: 'easy', origin: 'RPA', toxic: 'Nie - bezpieczna!', maxHeight: '15cm',
                care: { water: 'Co 2-3 tygodnie', light: 'Jasne po≈õrednie - toleruje s≈Çabsze!', humidity: '30-50%', temperature: '15-27¬∞C' }, 
                description: 'Sukulent dla poczƒÖtkujƒÖcych kt√≥ry toleruje S≈ÅABSZE ≈õwiat≈Ço ni≈º inne! Bia≈Çe paski to brodawki magazynujƒÖce wodƒô. Zwarta rozeta.',
                funFacts: ['Paski to skupiska kom√≥rek magazynujƒÖcych wodƒô', 'Toleruje s≈Çabsze ≈õwiat≈Ço ni≈º inne sukulenty', 'Czƒôsto mylona z mini-Aloe', '≈Åatwo produkuje potomstwo'],
                diseases: ['Gnicie = przelanie (g≈Ç√≥wny problem)', 'BrƒÖzowe ko≈Ñc√≥wki = oparzenie s≈Çoneczne', 'Blade paski = za ma≈Ço ≈õwiat≈Ça', 'Zamkniƒôta rozeta = za du≈ºo s≈Ço≈Ñca (ochrona)'],
                propagation: 'Oddziel dzieci od matki lub sadzonki li≈õciowe. Zasusz 2-3 dni przed posadzeniem. Korzenie po 2-4 tyg.'
            },
            { 
                id: 'sedum', name: 'Rozchodnik (Ogon os≈Ça)', species: 'Sedum morganianum', emoji: 'ü´í', 
                image: 'https://upload.wikimedia.org/wikipedia/commons/thumb/e/e2/Sedum_pachyphyllum.jpg/400px-Sedum_pachyphyllum.jpg', 
                category: ['succulents', 'easy'], difficulty: 'easy', origin: 'Meksyk', toxic: 'Nie - bezpieczny!', maxHeight: '100cm (zwisa)',
                care: { water: 'Co 2-3 tygodnie', light: 'Jasne do s≈Çonecznego', humidity: '30-50%', temperature: '10-27¬∞C' }, 
                description: 'Spektakularne zwisajƒÖce pƒôdy z tysiƒÖcami pulchnych listk√≥w! Li≈õcie BARDZO ≈Çatwo odpadajƒÖ przy dotyku - ale to mechanizm rozmna≈ºania.',
                funFacts: ['OpadajƒÖce li≈õcie to naturalny spos√≥b rozmna≈ºania!', 'Odkryty dopiero w 1935 w Meksyku', 'Pƒôdy mogƒÖ zwisaƒá na 1m', 'Ka≈ºdy opad≈Çy listek mo≈ºe daƒá nowƒÖ ro≈õlinƒô'],
                diseases: ['Opadanie li≈õci = dotyk, przelanie lub stres', 'Pomarszczone li≈õcie = potrzebuje wody', '≈ª√≥≈Çte li≈õcie = przelanie', 'Wyd≈Çu≈ºanie = za ma≈Ço ≈õwiat≈Ça'],
                propagation: 'Naj≈Çatwiejsze! Ka≈ºdy opad≈Çy listek po≈Ç√≥≈º na ziemi - wyro≈õnie nowa ro≈õlina. Mo≈ºna te≈º ciƒÖƒá pƒôdy i ukorzeniaƒá.'
            },
            { 
                id: 'lithops', name: '≈ªywe kamienie', species: 'Lithops', emoji: 'ü™®', 
                image: 'https://upload.wikimedia.org/wikipedia/commons/thumb/2/2c/Lithops_lesliei.jpg/400px-Lithops_lesliei.jpg', 
                category: ['succulents'], difficulty: 'hard', origin: 'Namibia, RPA', toxic: 'Nie - bezpieczne!', maxHeight: '5cm',
                care: { water: 'BARDZO RZADKO - tylko latem co 2-3 tyg.', light: 'Pe≈Çne s≈Ço≈Ñce - minimum 5h', humidity: '20-40%', temperature: '15-30¬∞C' }, 
                description: 'UdajƒÖ kamyki ≈ºeby unikaƒá zjedzenia! Prawie ca≈Çkowicie zakopane w pod≈Ço≈ºu. ZimƒÖ i wiosnƒÖ NIE podlewaƒá - wtedy zmieniajƒÖ sk√≥rƒô.',
                funFacts: ['UdajƒÖ kamienie jako ochrona przed zjedzeniem', 'Okno na g√≥rze to soczewka fokusujƒÖca ≈õwiat≈Ço', 'RosnƒÖ prawie ca≈Çkowicie zakopane', 'ZimƒÖ zrzucajƒÖ starƒÖ sk√≥rƒô - NIE podlewaj!'],
                diseases: ['Pƒôkanie = przelanie (g≈Ç√≥wny zab√≥jca!)', 'Scukrzenie = przelanie podczas zmiany sk√≥ry', 'RozciƒÖganie = za ma≈Ço ≈õwiat≈Ça', 'Pomarszczenie = potrzebuje wody (tylko latem!)'],
                propagation: 'Z nasion (3-5 lat do doros≈Ço≈õci) lub podzia≈Ç gdy ro≈õlina siƒô podwaja. Bardzo powolny proces. Kupowanie jest praktyczniejsze.'
            },
            { 
                id: 'string-of-pearls', name: 'Sznur pere≈Ç', species: 'Senecio rowleyanus', emoji: 'üìø', 
                image: 'https://upload.wikimedia.org/wikipedia/commons/thumb/a/a6/Senecio_rowleyanus.jpg/400px-Senecio_rowleyanus.jpg', 
                category: ['succulents'], difficulty: 'medium', origin: 'RPA', toxic: 'Tak - mildly toxic', maxHeight: '90cm (zwisa)',
                care: { water: 'Co 10-14 dni gdy kulki lekko zmarszczone', light: 'Jasne po≈õrednie', humidity: '40-50%', temperature: '15-27¬∞C' }, 
                description: 'Unikalne zwisajƒÖce sznury z kulkowatymi li≈õƒámi jak per≈Çy! Li≈õcie sƒÖ okrƒÖg≈Çe by zminimalizowaƒá parowanie. Delikatna ale wdziƒôczna.',
                funFacts: ['Kwiaty pachnƒÖ cynamonem!', 'Kulki to zmodyfikowane li≈õcie z magazynem wody', 'W naturze czo≈Çga siƒô po ziemi tworzƒÖc dywan', 'Ciemna kreska to "okno" do fotosyntezy'],
                diseases: ['Marszczenie = potrzebuje wody', 'Pƒôkanie kulek = przelanie', 'Gnicie od podstawy = za mokro', '≈ª√≥≈Çkniƒôcie = przelanie'],
                propagation: 'Przygiƒôcie pƒôdu do ziemi (ukorzeni w wƒôz≈Çach) lub sadzonki 5-10cm wsadzone do ziemi. Korzenie po 2-3 tyg.'
            },
            { 
                id: 'string-of-hearts', name: 'Sznur serc', species: 'Ceropegia woodii', emoji: 'üíï', 
                image: 'https://upload.wikimedia.org/wikipedia/commons/thumb/3/3e/Ceropegia_woodii.jpg/400px-Ceropegia_woodii.jpg', 
                category: ['succulents'], difficulty: 'easy', origin: 'RPA', toxic: 'Nie - bezpieczny!', maxHeight: '4m (zwisa)',
                care: { water: 'Co 10-14 dni', light: 'Jasne po≈õrednie', humidity: '40-50%', temperature: '15-27¬∞C' }, 
                description: 'Romantyczne sercowate listki na nitkowatych pƒôdach! Tworzy te≈º bulwki na pƒôdach kt√≥re mo≈ºna odcinaƒá do rozmna≈ºania. Niesamowite kwiaty jak latarnie.',
                funFacts: ['Kwiaty wyglƒÖdajƒÖ jak ma≈Çe latarnie/pu≈Çapki', 'Na pƒôdach tworzƒÖ siƒô bulwki - mo≈ºna je sadziƒá', 'Pƒôdy mogƒÖ osiƒÖgnƒÖƒá 4m!', 'Nazwa Ceropegia znaczy "fontanna wosku"'],
                diseases: ['≈ª√≥≈Çte li≈õcie = przelanie', 'Blade li≈õcie = za ma≈Ço ≈õwiat≈Ça', 'Kurczenie bulwki = przesuszenie', 'Gnicie = zimno + mokro'],
                propagation: 'Bardzo ≈Çatwe! Bulwki z pƒôdu po≈Ç√≥≈º na ziemi. Sadzonki w wodzie lub ziemi. Marcottage (przygiƒôcie do ziemi). Wszystko dzia≈Ça!'
            },
            { 
                id: 'sempervivum', name: 'Rojnik', species: 'Sempervivum tectorum', emoji: 'üå∏', 
                image: 'https://upload.wikimedia.org/wikipedia/commons/thumb/6/6b/Sempervivum_tectorum_1.jpg/400px-Sempervivum_tectorum_1.jpg', 
                category: ['succulents', 'easy'], difficulty: 'easy', origin: 'Europa g√≥rska', toxic: 'Nie - bezpieczny!', maxHeight: '15cm',
                care: { water: 'Co 2-3 tyg. latem, zimƒÖ prawie wcale', light: 'Pe≈Çne s≈Ço≈Ñce', humidity: '30-40%', temperature: '-30 do +30¬∞C (!)', }, 
                description: 'MROZOODPORNY sukulent! Prze≈ºywa do -30¬∞C. Ro≈õnie na dachach i ska≈Çach. Po kwitnieniu rozeta matka umiera ale zostawia dzieci.',
                funFacts: ['Nazwa ≈Çaci≈Ñska znaczy "zawsze ≈ºywy"', 'W ≈õredniowieczu sadzono na dachach jako ochronƒô przed piorunami', 'Prze≈ºywa od -30¬∞C do +30¬∞C', 'Po kwitnieniu rozeta umiera - zastƒôpujƒÖ jƒÖ dzieci'],
                diseases: ['Gnicie = przelanie (jedyny problem!)', 'RozciƒÖganie = za ma≈Ço s≈Ço≈Ñca', 'BrƒÖzowe dolne li≈õcie = naturalne zrzucanie'],
                propagation: 'Sama produkuje dzieci! Odetnij m≈Çode rozety gdy majƒÖ 2-3cm, posad≈∫. Mo≈ºna te≈º z li≈õci (wolno) lub nasion.'
            },
            { 
                id: 'aeonium', name: 'Eonium czarne', species: 'Aeonium arboreum', emoji: 'üñ§', 
                image: 'https://upload.wikimedia.org/wikipedia/commons/thumb/c/cc/Aeonium_arboreum_var._atropurpureum.jpg/400px-Aeonium_arboreum_var._atropurpureum.jpg', 
                category: ['succulents'], difficulty: 'easy', origin: 'Wyspy Kanaryjskie', toxic: 'Nie - bezpieczne!', maxHeight: '1m',
                care: { water: 'Co 10-14 dni w sezonie wzrostu', light: 'Jasne do pe≈Çnego s≈Ço≈Ñca', humidity: '40-50%', temperature: '10-25¬∞C' }, 
                description: 'ODWROTNY cykl! Ro≈õnie zimƒÖ, ≈õpi latem. Spektakularne ciemne (prawie czarne) rozety na ≈Çodygach. Odmiana Zwartkop jest popularna.',
                funFacts: ['Ro≈õnie ZIMƒÑ, ≈õpi LATEM (odwrotnie ni≈º inne!)', 'Im wiƒôcej s≈Ço≈Ñca tym ciemniejsze li≈õcie', '≈Åodygi mogƒÖ siƒô rozga≈Çƒôziaƒá', 'Pochodzi z Wysp Kanaryjskich'],
                diseases: ['Zielone li≈õcie = za ma≈Ço s≈Ço≈Ñca', 'Zrzucanie li≈õci latem = normalne (sen)', 'Gnicie = przelanie zimƒÖ', 'RozciƒÖganie = za ma≈Ço ≈õwiat≈Ça'],
                propagation: 'Sadzonki ≈Çodygowe lub wierzcho≈Çkowe. Zasusz kilka dni, posad≈∫. Mo≈ºna te≈º rozmna≈ºaƒá z li≈õci (wolniej).'
            },
            // === TROPIKALNE ===
            { 
                id: 'calathea', name: 'Kalatea', species: 'Goeppertia ornata', emoji: 'üé®', 
                image: 'https://upload.wikimedia.org/wikipedia/commons/thumb/6/6c/Calathea_roseopicta_20080314.jpg/400px-Calathea_roseopicta_20080314.jpg', 
                category: ['tropical'], difficulty: 'hard', origin: 'Kolumbia, Brazylia', toxic: 'Nie - bezpieczna!', maxHeight: '90cm',
                care: { water: 'Co 5-7 dni wodƒÖ destylowanƒÖ/przegotowanƒÖ', light: 'Cie≈Ñ do jasnego po≈õredniego', humidity: '60-80% - WYMAGA!', temperature: '18-24¬∞C sta≈Ça' }, 
                description: 'DIVA! Spektakularne wzory ale wymaga miƒôkkiej wody i wysokiej wilgotno≈õci. Sk≈Çada li≈õcie wieczorem (ro≈õlina modlƒÖca). Dla do≈õwiadczonych.',
                funFacts: ['Sk≈Çada li≈õcie wieczorem - s≈Çychaƒá trzask!', 'Wzory sƒÖ unikalne dla ka≈ºdego gatunku', 'Wymaga wody BEZ chloru i wapnia', 'W Brazylii li≈õcie u≈ºywa siƒô do pakowania ryb'],
                diseases: ['BrƒÖzowe krawƒôdzie = twarda woda lub suche powietrze', 'Zwijanie li≈õci = za sucho lub zimno', 'Blade wzory = za ma≈Ço lub za du≈ºo ≈õwiat≈Ça', 'Gnicie = przelanie'],
                propagation: 'Podzia≈Ç kƒôp przy przesadzaniu. Ka≈ºda czƒô≈õƒá musi mieƒá korzenie i kilka li≈õci. Wiosna najlepsza.'
            },
            { 
                id: 'maranta', name: 'Maranta', species: 'Maranta leuconeura', emoji: 'üôè', 
                image: 'https://upload.wikimedia.org/wikipedia/commons/thumb/8/81/Maranta_leuconeura_var._kerchoveana.jpg/400px-Maranta_leuconeura_var._kerchoveana.jpg', 
                category: ['tropical'], difficulty: 'medium', origin: 'Brazylia', toxic: 'Nie - bezpieczna!', maxHeight: '45cm',
                care: { water: 'Co 5-7 dni', light: '≈örednie rozproszone', humidity: '50-70%', temperature: '18-27¬∞C' }, 
                description: 'Ro≈õlina modlƒÖca - sk≈Çada li≈õcie wieczorem jak d≈Çonie do modlitwy! ≈Åatwiejsza kuzynka Kalatei. Piƒôkne wzory na li≈õciach.',
                funFacts: ['Sk≈Çada li≈õcie pionowo wieczorem', 'Z k≈ÇƒÖczy produkuje siƒô skrobiƒô arrowroot', 'Mechanizm ruch√≥w to zmiany ci≈õnienia wody', 'Istnieje wiele odmian z r√≥≈ºnymi wzorami'],
                diseases: ['BrƒÖzowe ko≈Ñc√≥wki = suche powietrze lub s√≥l w wodzie', 'Blade wzory = za du≈ºo ≈õwiat≈Ça', 'Zwijanie li≈õci = przesuszenie', '≈ª√≥≈Çte li≈õcie = przelanie'],
                propagation: 'Podzia≈Ç kƒôp lub sadzonki pƒôdowe z wƒôz≈Çem w wodzie. Korzenie po 2-4 tyg.'
            },
            { 
                id: 'alocasia', name: 'Alokacja', species: 'Alocasia amazonica', emoji: 'üñ§', 
                image: 'https://upload.wikimedia.org/wikipedia/commons/thumb/3/37/Alocasia_micholitziana_2.jpg/400px-Alocasia_micholitziana_2.jpg', 
                category: ['tropical'], difficulty: 'hard', origin: 'Hybryda (nie z Amazonii!)', toxic: 'BARDZO - kryszta≈Çy szczawianu', maxHeight: '60cm',
                care: { water: 'Co 5-7 dni, stale lekko wilgotna', light: 'Jasne rozproszone', humidity: '60-80%', temperature: '18-27¬∞C' }, 
                description: 'Dramatyczne strza≈Çkowate li≈õcie z bia≈Çymi ≈ºy≈Çkami na ciemnym tle! BARDZO toksyczna. Mo≈ºe wchodziƒá w spoczynek zimƒÖ tracƒÖc li≈õcie.',
                funFacts: ['Mimo nazwy "amazonica" to hybryda ogrodnicza!', 'Spoczynek zimowy z utratƒÖ li≈õci to normalne', 'Bulwa przetrwa i wypu≈õci nowe li≈õcie', 'Istnieje 70+ gatunk√≥w Alocasia'],
                diseases: ['≈ª√≥≈Çte li≈õcie = przelanie', 'Opadanie zimƒÖ = spoczynek (normalne)', 'BrƒÖzowe plamy = oparzenie lub przeziƒôbienie', 'Przƒôdziorek = suche powietrze'],
                propagation: 'Podzia≈Ç bulw lub odcinanie "pups√≥w" (m≈Çodych bulwek). Najlepiej wiosnƒÖ gdy ro≈õlina budzi siƒô z spoczynku.'
            },
            { 
                id: 'croton', name: 'Kroton', species: 'Codiaeum variegatum', emoji: 'üçÇ', 
                image: 'https://upload.wikimedia.org/wikipedia/commons/thumb/f/f1/Croton_Plant.jpg/400px-Croton_Plant.jpg', 
                category: ['tropical'], difficulty: 'medium', origin: 'Malezja, Indonezja', toxic: 'Tak - sok mleczny dra≈ºniƒÖcy', maxHeight: '2m',
                care: { water: 'Co 5-7 dni', light: 'Jasne do s≈Çonecznego - du≈ºo ≈õwiat≈Ça!', humidity: '50-70%', temperature: '18-27¬∞C sta≈Ça' }, 
                description: 'EKSPLOZJA KOLOR√ìW! ≈ª√≥≈Çte, pomara≈Ñczowe, czerwone, r√≥≈ºowe li≈õcie. Im wiƒôcej ≈õwiat≈Ça tym intensywniejsze kolory. Nie lubi zmian!',
                funFacts: ['Istnieje ponad 100 r√≥≈ºnych odmian!', 'Kolory intensywniejsze przy silnym ≈õwietle', 'Bardzo wra≈ºliwy na przeciƒÖgi i zmiany', 'Sok mo≈ºe podra≈ºniƒá sk√≥rƒô'],
                diseases: ['OpadajƒÖce li≈õcie = zimno, przeciƒÖg lub zmiana miejsca', 'Blade kolory = za ma≈Ço ≈õwiat≈Ça', 'Przƒôdziorek = suche powietrze (zraszaj!)', 'Mszyce = sprawdzaj m≈Çode li≈õcie'],
                propagation: 'Sadzonki wierzcho≈Çkowe z hormonem ukorzeniajƒÖcym. Ciep≈Ço (24¬∞C) i wilgotno≈õƒá. Sok dra≈ºniƒÖcy - rƒôkawiczki!'
            },
            { 
                id: 'dieffenbachia', name: 'Difenbachia', species: 'Dieffenbachia seguine', emoji: 'üåø', 
                image: 'https://upload.wikimedia.org/wikipedia/commons/thumb/0/0e/Dieffenbachia_amoena.jpg/400px-Dieffenbachia_amoena.jpg', 
                category: ['tropical'], difficulty: 'easy', origin: 'Ameryka ≈ör. i P≈Çd.', toxic: 'BARDZO! Sok powoduje czasowƒÖ niemotƒô', maxHeight: '2m',
                care: { water: 'Co 7-10 dni', light: '≈örednie do jasnego po≈õredniego', humidity: '50-70%', temperature: '18-27¬∞C' }, 
                description: 'Wzorzyste li≈õcie ale BARDZO TOKSYCZNA! Sok zawiera kryszta≈Çy kt√≥re wywo≈ÇujƒÖ opuchliznƒô jƒôzyka i gard≈Ça (niemota). Trzymaj z dala od dzieci i zwierzƒÖt!',
                funFacts: ['Nazywana "dumb cane" bo sok powoduje czasowƒÖ niemotƒô', 'Kiedy≈õ u≈ºywana jako ≈õrodek tortur!', 'Mimo toksyczno≈õci bardzo popularna', 'Oczyszcza powietrze z toksyn'],
                diseases: ['≈ª√≥≈Çte dolne li≈õcie = naturalne starzenie', 'BrƒÖzowe krawƒôdzie = suche powietrze lub nieregularne podlewanie', 'Gnicie ≈Çodygi = przelanie', 'Blade li≈õcie = za ma≈Ço ≈õwiat≈Ça'],
                propagation: 'Sadzonki wierzcho≈Çkowe lub kawa≈Çki ≈Çodygi (air layering). OSTRO≈ªNIE - sok toksyczny! U≈ºywaj rƒôkawiczek.'
            },
            { 
                id: 'boston-fern', name: 'Paproƒá bosto≈Ñska', species: 'Nephrolepis exaltata', emoji: 'üåø', 
                image: 'https://upload.wikimedia.org/wikipedia/commons/thumb/c/ce/Nephrolepis_exaltata_Bostoniensis1.jpg/400px-Nephrolepis_exaltata_Bostoniensis1.jpg', 
                category: ['tropical'], difficulty: 'medium', origin: 'Ameryka Tropikalna', toxic: 'Nie - bezpieczna!', maxHeight: '90cm',
                care: { water: 'Co 3-5 dni, stale wilgotna', light: '≈örednie rozproszone', humidity: '60-80% - kocha wilgoƒá!', temperature: '16-24¬∞C' }, 
                description: 'Elegancka paproƒá o pierzastych li≈õciach! ≈öwietnie nawil≈ºa powietrze. Wymaga wysokiej wilgotno≈õci - idealna do ≈Çazienki.',
                funFacts: ['Popularna od ery wiktoria≈Ñskiej!', 'Naturalny nawil≈ºacz powietrza', 'Nie ma kwiat√≥w ani nasion - rozmna≈ºa siƒô zarodnikami', 'NASA TOP 10 do oczyszczania powietrza'],
                diseases: ['BrƒÖzowienie li≈õci = za sucho', 'Opadanie listk√≥w = za sucho lub za ciemno', '≈ª√≥≈Çte li≈õcie = przelanie lub za ma≈Ço sk≈Çadnik√≥w', 'Szare plamy = grzyb od nadmiaru wilgoci'],
                propagation: 'Podzia≈Ç kƒôp lub m≈Çode rozety z roz≈Çog√≥w. Zarodniki (trudne). Naj≈Çatwiej dzieliƒá wiosnƒÖ.'
            },
            { 
                id: 'caladium', name: 'Kaladium', species: 'Caladium bicolor', emoji: 'ü©∑', 
                image: 'https://upload.wikimedia.org/wikipedia/commons/thumb/8/8b/Caladium_bicolor_cultivar.jpg/400px-Caladium_bicolor_cultivar.jpg', 
                category: ['tropical'], difficulty: 'medium', origin: 'Ameryka Po≈Çudniowa', toxic: 'Tak - kryszta≈Çy szczawianu', maxHeight: '60cm',
                care: { water: 'Co 3-5 dni w sezonie', light: 'Jasne rozproszone', humidity: '60-80%', temperature: '18-27¬∞C' }, 
                description: 'SPEKTAKULARNE r√≥≈ºowe, czerwone, bia≈Çe li≈õcie! Sezonowa - zimƒÖ zapada w spoczynek tracƒÖc li≈õcie. Bulwa przetrwa do wiosny.',
                funFacts: ['Zimowy spoczynek to normalne - bulwa ≈ºyje!', 'Li≈õcie mogƒÖ byƒá prawie ca≈Çkowicie r√≥≈ºowe', 'Istnieje 1000+ odmian', 'W tropikach ro≈õnie ca≈Çy rok'],
                diseases: ['≈ª√≥≈Çte/gnijƒÖce li≈õcie = przelanie', 'Ma≈Çe li≈õcie = za ma≈Ço ≈õwiat≈Ça lub sk≈Çadnik√≥w', 'Spoczynek zimƒÖ = NORMALNE, nie wyrzucaj!', 'BrƒÖzowe krawƒôdzie = suche powietrze'],
                propagation: 'Podzia≈Ç bulw wiosnƒÖ (ka≈ºda czƒô≈õƒá musi mieƒá "oko"). Susz rany 1-2 dni przed sadzeniem.'
            },
            { 
                id: 'strelitzia', name: 'Strelicja (Rajski ptak)', species: 'Strelitzia reginae', emoji: 'ü¶ú', 
                image: 'https://upload.wikimedia.org/wikipedia/commons/thumb/f/f6/Bird_of_paradise_flower.jpg/400px-Bird_of_paradise_flower.jpg', 
                category: ['tropical', 'flowering'], difficulty: 'medium', origin: 'RPA', toxic: 'Tak dla zwierzƒÖt', maxHeight: '2m',
                care: { water: 'Co 7-10 dni', light: 'Pe≈Çne s≈Ço≈Ñce - minimum 4-6h!', humidity: '40-60%', temperature: '10-30¬∞C' }, 
                description: 'Spektakularne kwiaty jak g≈Çowa rajskiego ptaka! Ale cierpliwo≈õƒá - kwitnie dopiero po 5+ latach. D≈Çugowieczna i odporna ro≈õlina.',
                funFacts: ['Potrzebuje 5-7 lat by zakwitnƒÖƒá z nasion!', 'Kwiaty utrzymujƒÖ siƒô przez tygodnie', 'Mo≈ºe ≈ºyƒá 50+ lat', 'Nazwa od kr√≥lowej Charlotte (ksiƒô≈ºniczki Meklemburgii-Strelitz)'],
                diseases: ['Zwijanie li≈õci = za sucho lub za zimno', 'BrƒÖzowe krawƒôdzie = suche powietrze lub s√≥l', 'Rozdzieranie li≈õci = naturalne (adaptacja do wiatru)', 'Brak kwitnienia = za ma≈Ço s≈Ço≈Ñca lub za m≈Çoda'],
                propagation: 'Podzia≈Ç kƒôp (3-4 lata do kwitnienia) lub nasiona (5-7 lat!). Dziel wiosnƒÖ, ka≈ºda czƒô≈õƒá musi mieƒá korzenie i rozety.'
            },
            // === ≈ÅATWE ===
            { 
                id: 'spider-plant', name: 'Zielistka (Ro≈õlina-pajƒÖk)', species: 'Chlorophytum comosum', emoji: 'üï∑Ô∏è', 
                image: 'https://upload.wikimedia.org/wikipedia/commons/thumb/b/b1/Chlorophytum_comosum_Variegatum.jpg/400px-Chlorophytum_comosum_Variegatum.jpg', 
                category: ['easy', 'popular'], difficulty: 'easy', origin: 'Afryka Tropikalna', toxic: 'Nie, ALE koty jƒÖ uwielbiajƒÖ!', maxHeight: '45cm + zwisajƒÖce dzieci',
                care: { water: 'Co 5-7 dni', light: '≈örednie do jasnego', humidity: '40-60%', temperature: '13-27¬∞C' }, 
                description: 'Kultowa! Produkuje "dzieci" na d≈Çugich pƒôdach kt√≥re mo≈ºna odcinaƒá i rozdawaƒá. ≈öwietna do oczyszczania powietrza. Bardzo tolerancyjna.',
                funFacts: ['NASA TOP 10 do oczyszczania powietrza', 'Koty jƒÖ UWIELBIAJƒÑ - lekko halucynogenna dla nich', 'Mo≈ºe mieƒá 100+ dzieci!', 'Jedna z naj≈Çatwiejszych do rozmna≈ºania'],
                diseases: ['BrƒÖzowe ko≈Ñc√≥wki = chlor/fluor w wodzie lub suche powietrze', 'Blade li≈õcie = za ma≈Ço ≈õwiat≈Ça', 'Brak dzieci = za ma≈Ço ≈õwiat≈Ça lub za m≈Çoda', 'Gnicie = przelanie'],
                propagation: 'NAJ≈ÅATWIEJSZA ro≈õlina! Dzieci mo≈ºna odcinaƒá i sadziƒá lub ukorzeniaƒá w wodzie. Mo≈ºna te≈º przypiƒÖƒá dziecko do ziemi bez odcinania.'
            },
            { 
                id: 'tradescantia', name: 'Trzykrotka', species: 'Tradescantia zebrina', emoji: 'üíú', 
                image: 'https://upload.wikimedia.org/wikipedia/commons/thumb/e/e7/Tradescantia_zebrina.jpg/400px-Tradescantia_zebrina.jpg', 
                category: ['easy'], difficulty: 'easy', origin: 'Meksyk', toxic: 'Lekko dra≈ºniƒÖca', maxHeight: '60cm',
                care: { water: 'Co 5-7 dni', light: 'Jasne po≈õrednie', humidity: '50-60%', temperature: '15-27¬∞C' }, 
                description: 'BARDZO szybko ro≈õnie! B≈ÇyszczƒÖce fioletowo-srebrne li≈õcie. Im wiƒôcej ≈õwiat≈Ça tym intensywniejsze kolory. ≈öwietna do makramowych wieszak√≥w.',
                funFacts: ['Mo≈ºe rosnƒÖƒá 2-3cm dziennie!', 'Li≈õcie zmieniajƒÖ kolor zale≈ºnie od ≈õwiat≈Ça', 'Mo≈ºe byƒá inwazyjna w ciep≈Çym klimacie', 'Sok mo≈ºe podra≈ºniƒá sk√≥rƒô wra≈ºliwƒÖ'],
                diseases: ['Blade/zielone kolory = za ma≈Ço ≈õwiat≈Ça', '≈Åysienie u podstawy = normalne, przycinaj i sad≈∫ wierzcho≈Çki', '≈ª√≥≈Çte li≈õcie = przelanie', 'Wyd≈Çu≈ºanie = za ma≈Ço ≈õwiat≈Ça'],
                propagation: 'EKSTREMALNIE ≈Çatwe! Odetnij kawa≈Çek, w≈Ç√≥≈º do wody lub ziemi. Korzenie dos≈Çownie w kilka dni. Jedna z naj≈Çatwiejszych!'
            },
            { 
                id: 'ivy', name: 'Bluszcz', species: 'Hedera helix', emoji: 'üçÄ', 
                image: 'https://upload.wikimedia.org/wikipedia/commons/thumb/8/8b/Hedera_helix_01.jpg/400px-Hedera_helix_01.jpg', 
                category: ['easy'], difficulty: 'easy', origin: 'Europa', toxic: 'Tak - jagody bardzo!', maxHeight: '20m (!)',
                care: { water: 'Co 5-7 dni', light: '≈örednie do jasnego', humidity: '40-60%', temperature: '10-21¬∞C - lubi CH≈Å√ìD!' }, 
                description: 'Klasyka kt√≥ra UWIELBIA ch≈Ç√≥d! Nie lubi centralnego ogrzewania - idealna do ch≈Çodniejszych pomieszcze≈Ñ. ≈öwietnie oczyszcza powietrze.',
                funFacts: ['Mo≈ºe ≈ºyƒá 400+ lat w naturze!', 'W ≈õredniowieczu wierzono ≈ºe chroni przed czarami', 'Mo≈ºe wspinaƒá siƒô na wszystko', 'Alergicy - sok mo≈ºe podra≈ºniƒá!'],
                diseases: ['BrƒÖzowe li≈õcie = za ciep≈Ço lub suche powietrze', 'Przƒôdziorek = czƒôsty problem (zraszaj!)', '≈ª√≥≈Çte li≈õcie = przelanie', 'Opadanie li≈õci = za ciep≈Ço'],
                propagation: 'Sadzonki wierzcho≈Çkowe w wodzie lub ziemi. Korzenie po 2-4 tyg. Mo≈ºna te≈º przygiƒÖƒá pƒôd do ziemi.'
            },
            { 
                id: 'peperomia', name: 'Peperomia', species: 'Peperomia obtusifolia', emoji: 'üåø', 
                image: 'https://upload.wikimedia.org/wikipedia/commons/thumb/5/59/Peperomia_obtusifolia1.jpg/400px-Peperomia_obtusifolia1.jpg', 
                category: ['easy'], difficulty: 'easy', origin: 'Ameryka Tropikalna', toxic: 'Nie - bezpieczna!', maxHeight: '30cm',
                care: { water: 'Co 7-14 dni', light: '≈örednie do jasnego', humidity: '40-60%', temperature: '15-27¬∞C' }, 
                description: 'Kompaktowa z grubymi, b≈ÇyszczƒÖcymi li≈õƒámi. Setki r√≥≈ºnych odmian! Spokrewniona z pieprzem. Idealna na biurko. Bardzo tolerancyjna.',
                funFacts: ['Istnieje 1000+ gatunk√≥w!', 'Spokrewniona z pieprzem czarnym', 'Kwiaty wyglƒÖdajƒÖ jak szczurze ogonki', 'Li≈õcie magazynujƒÖ wodƒô jak sukulent'],
                diseases: ['Opadanie li≈õci = przelanie (g≈Ç√≥wny problem)', 'Pomarszczone li≈õcie = przesuszenie', '≈ª√≥≈Çte li≈õcie = przelanie', 'BrƒÖzowe plamy = oparzenie s≈Çoneczne'],
                propagation: 'Sadzonki ≈Çodygowe lub li≈õciowe. Li≈õƒá w≈Ç√≥≈º do wody lub ziemi - wyro≈õnie nowa ro≈õlina. Korzenie po 2-4 tyg.'
            },
            { 
                id: 'aglaonema', name: 'Aglaonema', species: 'Aglaonema commutatum', emoji: 'üåø', 
                image: 'https://upload.wikimedia.org/wikipedia/commons/thumb/7/7a/Aglaonema_modestum.jpg/400px-Aglaonema_modestum.jpg', 
                category: ['easy', 'tropical'], difficulty: 'easy', origin: 'Azja P≈Çd-Wsch.', toxic: 'Tak - kryszta≈Çy szczawianu', maxHeight: '90cm',
                care: { water: 'Co 7-10 dni', light: 'Cie≈Ñ do jasnego po≈õredniego', humidity: '50-70%', temperature: '18-27¬∞C' }, 
                description: 'NAJLEPSZA ro≈õlina do ciemnych pomieszcze≈Ñ! Toleruje s≈Çabe ≈õwiat≈Ço lepiej ni≈º wiƒôkszo≈õƒá. Srebrno-zielone wzory na li≈õciach.',
                funFacts: ['W Azji uwa≈ºana za ro≈õlinƒô przynoszƒÖcƒÖ szczƒô≈õcie', 'Toleruje ciemno≈õƒá jak ≈ºadna inna', 'Oczyszcza powietrze z benzenu i formaldehydu', 'Nowe odmiany majƒÖ r√≥≈ºowe li≈õcie!'],
                diseases: ['≈ª√≥≈Çte li≈õcie = przelanie lub za zimno', 'BrƒÖzowe ko≈Ñc√≥wki = suche powietrze lub s√≥l', 'Blade wzory = ironicznie - za ma≈Ço ≈õwiat≈Ça', 'Gnicie = zimno + mokro'],
                propagation: 'Podzia≈Ç kƒôp lub sadzonki ≈Çodygowe. Korzenie w wodzie lub ziemi po 3-4 tyg.'
            },
            { 
                id: 'schefflera', name: 'Szeflera (Parasol kar≈Ça)', species: 'Schefflera arboricola', emoji: '‚òÇÔ∏è', 
                image: 'https://upload.wikimedia.org/wikipedia/commons/thumb/4/4b/Schefflera_arboricola1.jpg/400px-Schefflera_arboricola1.jpg', 
                category: ['easy', 'tropical'], difficulty: 'easy', origin: 'Tajwan, Chiny', toxic: 'Tak - kryszta≈Çy szczawianu', maxHeight: '2.5m w domu',
                care: { water: 'Co 7-10 dni', light: 'Jasne po≈õrednie', humidity: '50-70%', temperature: '15-27¬∞C' }, 
                description: 'Eleganckie li≈õcie jak parasolki z≈Ço≈ºone z 7-9 listk√≥w! Mo≈ºe urosnƒÖƒá na piƒôkne mini-drzewko. ≈Åatwa i odporna.',
                funFacts: ['W naturze dorasta do 8m!', 'Li≈õcie z≈Ço≈ºone z 7-9 listk√≥w jak palce', 'Toleruje przycinanie i kszta≈Çtowanie', 'Odmiana "Amate" jest bardziej odporna'],
                diseases: ['OpadajƒÖce li≈õcie = przeciƒÖg, zimno lub przelanie', 'Lepkie li≈õcie = chermes (mszyca)', '≈ª√≥≈Çte li≈õcie = przelanie', 'BrƒÖzowe plamy = oparzenie s≈Çoneczne'],
                propagation: 'Sadzonki wierzcho≈Çkowe lub rozmna≈ºanie w powietrzu (air layering). Hormon ukorzeniajƒÖcy pomaga. Korzenie po 4-8 tyg.'
            },
            { 
                id: 'asparagus-fern', name: 'Asparagus ozdobny', species: 'Asparagus setaceus', emoji: 'üå´Ô∏è', 
                image: 'https://upload.wikimedia.org/wikipedia/commons/thumb/a/a5/Asparagus_setaceus.jpg/400px-Asparagus_setaceus.jpg', 
                category: ['easy'], difficulty: 'easy', origin: 'Afryka Po≈Çudniowa', toxic: 'Jagody tak!', maxHeight: '3m jako pnƒÖcze',
                care: { water: 'Co 5-7 dni', light: 'Jasne rozproszone', humidity: '50-70%', temperature: '15-27¬∞C' }, 
                description: 'Pierzaste, delikatne "li≈õcie" (to tak naprawdƒô zmodyfikowane ≈Çodygi!). Wbrew nazwie to NIE paproƒá - spokrewniony ze szparagami jadalnymi.',
                funFacts: ['To NIE paproƒá! Spokrewniony ze szparagami jadalnymi', '"Li≈õcie" to zmodyfikowane ≈Çodygi (cladody)', 'Mo≈ºe mieƒá kolce - ostro≈ºnie!', 'Czerwone jagody sƒÖ toksyczne'],
                diseases: ['≈ª√≥≈Çkniƒôcie = przelanie lub za ma≈Ço sk≈Çadnik√≥w', 'Opadanie "igie≈Ç" = za sucho lub za ciemno', 'BrƒÖzowienie = za suche powietrze', 'Przƒôdziorek = sprawdzaj regularnie'],
                propagation: 'Podzia≈Ç kƒôp lub nasiona (z jag√≥d). Podzia≈Ç naj≈Çatwiejszy - dziel wiosnƒÖ.'
            },
            { 
                id: 'ctenanthe', name: 'Ktenante', species: 'Ctenanthe burle-marxii', emoji: 'üêü', 
                image: 'https://upload.wikimedia.org/wikipedia/commons/thumb/3/3d/Ctenanthe_setosa.jpg/400px-Ctenanthe_setosa.jpg', 
                category: ['easy', 'tropical'], difficulty: 'easy', origin: 'Brazylia', toxic: 'Nie - bezpieczna!', maxHeight: '50cm',
                care: { water: 'Co 5-7 dni', light: '≈örednie rozproszone', humidity: '50-70%', temperature: '18-27¬∞C' }, 
                description: '≈ÅATWIEJSZA kuzynka Kalatei! Piƒôkne wzory jak rybna o≈õƒá. Sk≈Çada li≈õcie wieczorem. Bardziej tolerancyjna ni≈º Calathea.',
                funFacts: ['Nazwa od Burle Marxa - s≈Çynnego brazylijskiego architekta krajobrazu', 'Wz√≥r jak szkielet rybiej o≈õci', 'Fioletowy sp√≥d li≈õci', 'Sk≈Çada li≈õcie wieczorem jak Kalatea'],
                diseases: ['BrƒÖzowe ko≈Ñc√≥wki = suche powietrze lub twarda woda', 'Zwijanie li≈õci = za sucho', 'Blade wzory = za du≈ºo/ma≈Ço ≈õwiat≈Ça', '≈ª√≥≈Çte li≈õcie = przelanie'],
                propagation: 'Podzia≈Ç kƒôp przy przesadzaniu. ≈Åatwiejsze ni≈º Calathea. Wiosna najlepsza.'
            },
            // === SPECJALNE ===
            { 
                id: 'venus', name: 'Mucho≈Ç√≥wka ameryka≈Ñska', species: 'Dionaea muscipula', emoji: 'ü™§', 
                image: 'https://upload.wikimedia.org/wikipedia/commons/thumb/8/80/Venus_Flytrap_showing_trigger_hairs.jpg/400px-Venus_Flytrap_showing_trigger_hairs.jpg', 
                category: ['special'], difficulty: 'hard', origin: 'Karolina P≈Çn. i P≈Çd. (USA)', toxic: 'Nie - bezpieczna!', maxHeight: '15cm',
                care: { water: 'Stale wilgotna, TYLKO woda destylowana!', light: 'Pe≈Çne s≈Ço≈Ñce - minimum 4-6h!', humidity: '50-80%', temperature: '20-30¬∞C latem, WYMAGA zimy 2-10¬∞C!' }, 
                description: 'Ro≈õlina miƒôso≈ºerna! Pu≈Çapki zamykajƒÖ siƒô w 0.1 sekundy gdy owad dotknie w≈Çosk√≥w spustowych 2x w 20 sekund. WYMAGA zimowego spoczynku!',
                funFacts: ['Darwin nazwa≈Ç jƒÖ "najwspanialszƒÖ ro≈õlinƒÖ ≈õwiata"', 'Pu≈Çapka zamyka siƒô w 0.1 sekundy!', 'Trawi owada 5-12 dni', 'BEZ zimowego spoczynku umrze w 2-3 lata'],
                diseases: ['Czarne pu≈Çapki = normalne po strawieniu (max 3-4 ofiary)', 'Brak zamykania = wyczerpanie lub z≈Çy warunki', 'Gnicie = twarda woda lub przelanie', 'S≈Çaby wzrost = brak zimy lub s≈Ço≈Ñca'],
                propagation: 'Podzia≈Ç kƒôp, sadzonki li≈õciowe lub nasiona. Nasiona wymagajƒÖ stratyfikacji (zimno). Trudne dla poczƒÖtkujƒÖcych.'
            },
            { 
                id: 'bonsai', name: 'Bonsai Fikus', species: 'Ficus microcarpa (retusa)', emoji: 'üéã', 
                image: 'https://upload.wikimedia.org/wikipedia/commons/thumb/5/5a/Bonsai_IMG_6426.jpg/400px-Bonsai_IMG_6426.jpg', 
                category: ['special'], difficulty: 'medium', origin: 'Azja Tropikalna', toxic: 'Lekko - sok mleczny', maxHeight: '60cm (kontrolowane)',
                care: { water: 'Co 3-5 dni gdy wierzch przeschnie', light: 'Jasne po≈õrednie', humidity: '50-70%', temperature: '15-27¬∞C' }, 
                description: 'Miniaturowe drzewko wymagajƒÖce regularnego ciƒôcia i formowania. Fikus to naj≈Çatwiejszy gatunek do bonsai dla poczƒÖtkujƒÖcych. Korzenie powietrzne dodajƒÖ charakteru.',
                funFacts: ['Sztuka bonsai ma ponad 1000 lat!', 'Niekt√≥re bonsai majƒÖ 800+ lat', 'Fikus to naj≈Çatwiejsze bonsai dla poczƒÖtkujƒÖcych', 'Drzewka mogƒÖ byƒá dziedziczone przez pokolenia'],
                diseases: ['Opadanie li≈õci = stres (zmiana miejsca, podlewanie)', '≈ª√≥≈Çte li≈õcie = przelanie', 'Mszyce = sprawdzaj m≈Çode li≈õcie', 'S≈Çaby wzrost = potrzebuje przesadzenia lub nawo≈ºenia'],
                propagation: 'Sadzonki lub rozmna≈ºanie w powietrzu (air layering). Kszta≈Çtowanie trwa lata. Mo≈ºna kupiƒá gotowe i uczyƒá siƒô pielƒôgnacji.'
            },
            { 
                id: 'coffee', name: 'Kawowiec arabski', species: 'Coffea arabica', emoji: '‚òï', 
                image: 'https://upload.wikimedia.org/wikipedia/commons/thumb/c/c5/Coffea_arabica_-_K%C3%B6hler%E2%80%93s_Medizinal-Pflanzen-189.jpg/400px-Coffea_arabica_-_K%C3%B6hler%E2%80%93s_Medizinal-Pflanzen-189.jpg', 
                category: ['special', 'tropical'], difficulty: 'medium', origin: 'Etiopia', toxic: 'Nie (ale kofeina w nasionach)', maxHeight: '2m w domu',
                care: { water: 'Co 5-7 dni, lubi wilgoƒá', light: 'Jasne rozproszone', humidity: '50-70%', temperature: '18-24¬∞C sta≈Ça' }, 
                description: 'Mo≈ºesz uprawiaƒá kawƒô w domu! Po 3-5 latach ro≈õlina mo≈ºe zakwitnƒÖƒá i daƒá owoce (wi≈õnie kawowe). B≈ÇyszczƒÖce li≈õcie same w sobie sƒÖ dekoracyjne.',
                funFacts: ['Jeden krzew mo≈ºe daƒá 0.5 kg ziaren kawy rocznie!', 'Kwiaty pachnƒÖ ja≈õminem', 'Owoce dojrzewajƒÖ 9 miesiƒôcy', 'Kofeina to obrona ro≈õliny przed owadami'],
                diseases: ['≈ª√≥≈Çte li≈õcie z zielonymi ≈ºy≈Çkami = chloroza (potrzebuje kwa≈õnej gleby)', 'BrƒÖzowe ko≈Ñc√≥wki = suche powietrze', 'Opadanie li≈õci = stres lub zimno', 'Przƒôdziorek = suche powietrze'],
                propagation: 'Nasiona (≈õwie≈ºe wi≈õnie kawowe) lub sadzonki. Nasiona kie≈ÇkujƒÖ 2-3 miesiƒÖce. Sadzonki trudniejsze.'
            },
            { 
                id: 'citrus', name: 'Cytryna Meyera', species: 'Citrus √ó meyeri', emoji: 'üçã', 
                image: 'https://upload.wikimedia.org/wikipedia/commons/thumb/e/e0/Lemon_tree_Berkeley.jpg/400px-Lemon_tree_Berkeley.jpg', 
                category: ['special', 'flowering'], difficulty: 'medium', origin: 'Chiny', toxic: 'Nie - jadalna!', maxHeight: '2m w domu',
                care: { water: 'Co 5-7 dni, nie lubi przesychaƒá', light: 'Pe≈Çne s≈Ço≈Ñce - minimum 6h!', humidity: '50-60%', temperature: '15-30¬∞C, zimƒÖ min. 5¬∞C' }, 
                description: 'Prawdziwe cytryny w domu! Meyer to krzy≈º√≥wka cytryny z mandarynkƒÖ - s≈Çodsza i mniej kwa≈õna. PachnƒÖce kwiaty pojawiajƒÖ siƒô przez ca≈Çy rok.',
                funFacts: ['To krzy≈º√≥wka cytryny z mandarynkƒÖ!', 'S≈Çodsza ni≈º zwyk≈Ça cytryna', 'Mo≈ºe kwitnƒÖƒá i owocowaƒá ca≈Çy rok', 'Jeden owoc dojrzewa 6-9 miesiƒôcy'],
                diseases: ['≈ª√≥≈Çte li≈õcie z zielonymi ≈ºy≈Çkami = chloroza (brak ≈ºelaza, za alkaliczna gleba)', 'Opadanie kwiat√≥w = stres, przeciƒÖg', 'Mszyce = czƒôste na m≈Çodych pƒôdach', 'Tarcznik = brƒÖzowe "tarczki" na li≈õciach'],
                propagation: 'Sadzonki z hormonem ukorzeniajƒÖcym lub szczepienie. Nasiona dadzƒÖ dzikƒÖ cytrynƒô. Kupowanie gotowej ro≈õliny naj≈Çatwiejsze.'
            },
            { 
                id: 'mimosa', name: 'Mimoza wstydliwa', species: 'Mimosa pudica', emoji: 'üò≥', 
                image: 'https://upload.wikimedia.org/wikipedia/commons/thumb/2/22/Mimosa_pudica_-_Movimiento.jpg/400px-Mimosa_pudica_-_Movimiento.jpg', 
                category: ['special'], difficulty: 'medium', origin: 'Ameryka Po≈Çudniowa', toxic: 'Lekko (nasiona bardziej)', maxHeight: '50cm',
                care: { water: 'Co 3-5 dni, lubi wilgoƒá', light: 'Jasne do s≈Çonecznego', humidity: '50-70%', temperature: '18-27¬∞C' }, 
                description: 'Li≈õcie ZAMYKAJƒÑ SIƒò b≈Çyskawicznie po dotkniƒôciu! Niesamowita ro≈õlina reagujƒÖca na bod≈∫ce. Traktowana czƒôsto jako roczna ale mo≈ºe ≈ºyƒá d≈Çu≈ºej.',
                funFacts: ['Naukowcy badajƒÖ jej "pamiƒôƒá" - uczy siƒô ignorowaƒá powtarzajƒÖce siƒô bod≈∫ce!', 'Zamykanie to obrona przed zwierzƒôtami', 'Li≈õcie zamykajƒÖ siƒô te≈º na noc', 'Ruch trwa 0.1 sekundy'],
                diseases: ['Brak reakcji = wyczerpanie energiƒÖ (nie dotykaj ca≈Çy czas!)', '≈ª√≥≈Çte li≈õcie = przelanie', 'Przƒôdziorek = suche powietrze', 'S≈Çaby wzrost = za ma≈Ço s≈Ço≈Ñca'],
                propagation: 'Z nasion (≈Çatwe!). Nasiona namocz 24h w ciep≈Çej wodzie, zasiej. Kie≈ÇkujƒÖ w 1-2 tygodnie. Traktuj jak rocznƒÖ.'
            },
            { 
                id: 'oxalis', name: 'Szczawik tr√≥jkƒÖtny', species: 'Oxalis triangularis', emoji: 'ü¶ã', 
                image: 'https://upload.wikimedia.org/wikipedia/commons/thumb/c/c7/Oxalis_triangularis_1.jpg/400px-Oxalis_triangularis_1.jpg', 
                category: ['special', 'easy'], difficulty: 'easy', origin: 'Brazylia', toxic: 'Lekko (kwas szczawiowy)', maxHeight: '25cm',
                care: { water: 'Co 5-7 dni', light: 'Jasne po≈õrednie', humidity: '50-60%', temperature: '15-25¬∞C' }, 
                description: 'Fioletowe tr√≥jkƒÖtne li≈õcie! Otwiera siƒô rano, zamyka wieczorem - hipnotyzujƒÖce. Mo≈ºe zapa≈õƒá w spoczynek na kilka miesiƒôcy - to normalne!',
                funFacts: ['Li≈õcie otwierajƒÖ siƒô i zamykajƒÖ w ciƒÖgu dnia', 'Spoczynek na kilka miesiƒôcy to normalne - bulwy ≈ºyjƒÖ!', 'Nazywana "fa≈ÇszywƒÖ koniczynƒÖ"', 'Kwiaty sƒÖ drobne ale ≈õliczne - r√≥≈ºowe lub bia≈Çe'],
                diseases: ['Opadanie li≈õci = spoczynek (NORMALNE!)', 'Blade li≈õcie = za du≈ºo s≈Ço≈Ñca', '≈ª√≥≈Çte li≈õcie = przelanie', 'Wyd≈Çu≈ºanie = za ma≈Ço ≈õwiat≈Ça'],
                propagation: 'Podzia≈Ç bulw - ka≈ºda ma≈Ça cebulka da nowƒÖ ro≈õlinƒô! Bardzo ≈Çatwe. Ro≈õlina sama te≈º siƒô rozmna≈ºa.'
            },
            { 
                id: 'tillandsia', name: 'Tillandsia (Ro≈õlina powietrzna)', species: 'Tillandsia ionantha', emoji: 'üå¨Ô∏è', 
                image: 'https://upload.wikimedia.org/wikipedia/commons/thumb/6/6f/Tillandsia_ionantha_3.jpg/400px-Tillandsia_ionantha_3.jpg', 
                category: ['special'], difficulty: 'easy', origin: 'Ameryka ≈örodkowa', toxic: 'Nie - bezpieczna!', maxHeight: '15cm',
                care: { water: 'Zanurzenie na 30 min 2x/tydzie≈Ñ', light: 'Jasne po≈õrednie', humidity: '50-70%', temperature: '15-27¬∞C' }, 
                description: 'Ro≈õlina powietrzna - NIE potrzebuje ziemi! Pobiera wodƒô i sk≈Çadniki przez li≈õcie z powietrza. Mo≈ºna jƒÖ przykleiƒá do kamienia, drewna, zawiesiƒá...',
                funFacts: ['Hiszpa≈Ñski mech to te≈º Tillandsia!', 'Istnieje 650+ gatunk√≥w', 'Przed kwitnieniem czƒôsto czerwienieje', 'Po kwitnieniu umiera ale zostawia dzieci'],
                diseases: ['BrƒÖzowienie od podstawy = gnicie od nadmiaru wody', 'Zwijanie li≈õci = za sucho', 'Blade kolory = za ma≈Ço ≈õwiat≈Ça', 'Brak wzrostu = za ma≈Ço wody lub ≈õwiat≈Ça'],
                propagation: 'Po kwitnieniu ro≈õlina produkuje "pupy" (dzieci). Odetnij gdy sƒÖ 1/3 wielko≈õci matki. Mo≈ºna te≈º z nasion (trudne).'
            },
            // === NOWE RO≈öLINY ===
            { 
                id: 'palm-kentia', name: 'Palma Kentia', species: 'Howea forsteriana', emoji: 'üå¥', 
                image: 'https://upload.wikimedia.org/wikipedia/commons/thumb/4/40/Howea_forsteriana_Lord_Howe_Island.jpg/400px-Howea_forsteriana_Lord_Howe_Island.jpg', 
                category: ['popular', 'tropical'], difficulty: 'easy', origin: 'Wyspa Lord Howe (Australia)', toxic: 'Nie - bezpieczna', maxHeight: '3m w domu',
                care: { water: 'Co 7-10 dni', light: 'Toleruje cie≈Ñ, lubi jasne rozproszone', humidity: '50-70%', temperature: '16-27¬∞C' }, 
                description: 'Kr√≥lowa palm doniczkowych! Elegancka, tolerancyjna i oczyszczajƒÖca powietrze. Wolno ro≈õnie ale ≈ºyje dziesiƒÖtki lat.',
                funFacts: ['Ulubiona palma epoki wiktoria≈Ñskiej', 'Ro≈õnie tylko na jednej wyspie na ≈õwiecie naturalnie', 'Mo≈ºe ≈ºyƒá ponad 50 lat w domu', 'W naturze dorasta do 15m'],
                diseases: ['BrƒÖzowe ko≈Ñc√≥wki = suche powietrze', '≈ª√≥≈Çte li≈õcie = przelanie', 'BrƒÖzowe plamy = oparzenie s≈Çoneczne', 'PajƒÖczki = za sucho'],
                propagation: 'Tylko z nasion - kie≈Çkowanie trwa 3-6 miesiƒôcy! Nie da siƒô rozmno≈ºyƒá przez podzia≈Ç.'
            },
            { 
                id: 'rubber-burgundy', name: 'Fikus Burgundy', species: 'Ficus elastica Burgundy', emoji: 'üç∑', 
                image: 'https://upload.wikimedia.org/wikipedia/commons/thumb/5/52/Ficus_elastica_Burgundy.jpg/400px-Ficus_elastica_Burgundy.jpg', 
                category: ['popular', 'tropical'], difficulty: 'easy', origin: 'Indie, Indonezja', toxic: 'Tak - sok dra≈ºniƒÖcy', maxHeight: '2-3m w domu',
                care: { water: 'Co 7-10 dni', light: 'Jasne do ≈õredniego', humidity: '40-60%', temperature: '16-27¬∞C' }, 
                description: 'Ciemnobordowe, prawie czarne li≈õcie! Jedna z najpiƒôkniejszych odmian fikusa. M≈Çode li≈õcie sƒÖ jaskrawo czerwone.',
                funFacts: ['M≈Çode li≈õcie wyglƒÖdajƒÖ jak czerwone o≈Ç√≥wki', 'Im wiƒôcej ≈õwiat≈Ça tym ciemniejsze li≈õcie', 'Z soku wytwarzano kauczu naturalny', 'Mo≈ºe wypuszczaƒá korzenie powietrzne'],
                diseases: ['Opadanie li≈õci = szok stresowy (przeprowadzka, przeciƒÖg)', 'Blade li≈õcie = za ma≈Ço ≈õwiat≈Ça', 'Lepkie li≈õcie = mszyce', '≈ª√≥≈Çkniƒôcie = przelanie'],
                propagation: 'Sadzonki wierzcho≈Çkowe lub z jednym li≈õciem i wƒôz≈Çem. Sok dra≈ºni sk√≥rƒô - u≈ºywaj rƒôkawiczek!'
            },
            { 
                id: 'nerve-plant', name: 'Fitonia (Nerve Plant)', species: 'Fittonia albivenis', emoji: 'üß†', 
                image: 'https://upload.wikimedia.org/wikipedia/commons/thumb/3/31/Fittonia_albivenis.jpg/400px-Fittonia_albivenis.jpg', 
                category: ['tropical', 'easy'], difficulty: 'medium', origin: 'Peru, Kolumbia', toxic: 'Nie - bezpieczna', maxHeight: '15cm',
                care: { water: 'Co 3-5 dni, stale wilgotna', light: 'Cie≈Ñ do jasnego rozproszonego', humidity: '70-90%', temperature: '18-26¬∞C' }, 
                description: 'Zjawiskowe ≈ºy≈Çki na li≈õciach - bia≈Çe, r√≥≈ºowe lub czerwone! Dramatycznie mdleje gdy ma suchƒÖ ziemiƒô, ale szybko wraca do ≈ºycia.',
                funFacts: ['Nazywana "drama queen" bo mdleje gdy sucho', 'Idealna do terrari√≥w', 'IstniejƒÖ odmiany mini, kt√≥re nie rosnƒÖ ponad 5cm', 'W naturze ro≈õnie na dnie lasu deszczowego'],
                diseases: ['Opadanie = za sucho (podlej i wr√≥ci!)', 'BrƒÖzowe brzegi = suche powietrze', 'Blade ≈ºy≈Çki = za ma≈Ço ≈õwiat≈Ça', 'Gnicie = przelanie lub z≈Ça cyrkulacja'],
                propagation: 'Bardzo ≈Çatwe sadzonki pƒôdowe - wƒôz≈Çy szybko puszczajƒÖ korzenie w wodzie lub ziemi.'
            },
            { 
                id: 'polka-dot', name: 'Ro≈õlina w kropki', species: 'Hypoestes phyllostachya', emoji: 'üî¥', 
                image: 'https://upload.wikimedia.org/wikipedia/commons/thumb/1/1b/Hypoestes_phyllostachya.jpg/400px-Hypoestes_phyllostachya.jpg', 
                category: ['flowering', 'easy'], difficulty: 'easy', origin: 'Madagaskar', toxic: 'Nie - bezpieczna', maxHeight: '30-50cm',
                care: { water: 'Co 5-7 dni', light: 'Jasne rozproszone do ≈õredniego', humidity: '50-70%', temperature: '18-27¬∞C' }, 
                description: 'Li≈õcie pokryte plamkami! R√≥≈ºowe, czerwone, bia≈Çe lub mieszane. Szybko ro≈õnie, ≈Çatwa w uprawie, kolorowa ca≈Çy rok.',
                funFacts: ['Im wiƒôcej ≈õwiat≈Ça tym wiƒôcej plam', 'Przycinanie powoduje krzewienie', 'Kwiaty sƒÖ niepozorne - przycinaj je', 'Czƒôsto uprawiana jako ro≈õlina jednoroczna ale mo≈ºe ≈ºyƒá latami'],
                diseases: ['Wyd≈Çu≈ºanie siƒô = za ma≈Ço ≈õwiat≈Ça', 'Opadanie li≈õci = za sucho', 'Blade kolory = za ciemno', 'BrƒÖzowe brzegi = suche powietrze'],
                propagation: '≈Åatwe sadzonki pƒôdowe w wodzie lub ziemi. Mo≈ºna te≈º z nasion.'
            },
            { 
                id: 'zz-raven', name: 'ZZ Raven (Czarny ZZ)', species: 'Zamioculcas zamiifolia Raven', emoji: 'üñ§', 
                image: 'https://upload.wikimedia.org/wikipedia/commons/thumb/5/5f/Zamioculcas_zamiifolia_1.jpg/400px-Zamioculcas_zamiifolia_1.jpg', 
                category: ['popular', 'easy'], difficulty: 'easy', origin: 'Kultywar (orygina≈Ç z Afryki)', toxic: 'Tak - kryszta≈Çy szczawianu', maxHeight: '1m',
                care: { water: 'Co 2-3 tygodnie', light: 'Cie≈Ñ do jasnego', humidity: '40-60%', temperature: '15-28¬∞C' }, 
                description: 'Czarna wersja niezniszczalnego ZZ! M≈Çode li≈õcie sƒÖ zielone i ciemniejƒÖ z czasem. R√≥wnie ≈Çatwy jak zwyk≈Çy ZZ.',
                funFacts: ['Patent na tƒô odmianƒô wygas≈Ç w 2023', 'Nowe li≈õcie sƒÖ jasnozielone - to normalne!', 'Ciemnieje z czasem', 'Mo≈ºe prze≈ºyƒá miesiƒÖce bez podlewania'],
                diseases: ['≈ª√≥≈Çte li≈õcie = przelanie (najczƒôstszy b≈ÇƒÖd!)', 'Opadanie = gnicie k≈ÇƒÖcza od nadmiaru wody', 'Brak nowych li≈õci = za ma≈Ço ≈õwiat≈Ça', 'WyciƒÖganie siƒô = potrzeba wiƒôcej ≈õwiat≈Ça'],
                propagation: 'Podzia≈Ç k≈ÇƒÖcza lub sadzonki z li≈õcia (trwa 6-12 miesiƒôcy!).'
            },
            { 
                id: 'syngonium', name: 'Syngonium', species: 'Syngonium podophyllum', emoji: 'üèπ', 
                image: 'https://upload.wikimedia.org/wikipedia/commons/thumb/e/e1/Syngonium_podophyllum.jpg/400px-Syngonium_podophyllum.jpg', 
                category: ['popular', 'tropical'], difficulty: 'easy', origin: 'Meksyk, Ameryka ≈örodkowa', toxic: 'Tak - kryszta≈Çy szczawianu', maxHeight: '2m jako pnƒÖcze',
                care: { water: 'Co 7-10 dni', light: 'Jasne rozproszone do ≈õredniego', humidity: '50-70%', temperature: '16-27¬∞C' }, 
                description: 'Li≈õcie w kszta≈Çcie strza≈Çek! M≈Çode li≈õcie sƒÖ kompaktowe, starsze dzielƒÖ siƒô na "palce". DziesiƒÖtki kolorowych odmian.',
                funFacts: ['Istnieje 30+ odmian kolorystycznych', 'M≈Çode li≈õcie majƒÖ inny kszta≈Çt ni≈º stare', 'Mo≈ºe rosnƒÖƒá jako zwisajƒÖca lub wspinajƒÖca', 'Kuzyn filodendron√≥w'],
                diseases: ['≈ª√≥≈Çte li≈õcie dolne = naturalne starzenie', 'BrƒÖzowe plamy = oparzenie s≈Çoneczne', 'Blade kolory = za ma≈Ço ≈õwiat≈Ça', 'Gnicie = przelanie'],
                propagation: 'Bardzo ≈Çatwe sadzonki pƒôdowe z wƒôz≈Çem - korzenie w wodzie po 1-2 tygodniach.'
            },
            { 
                id: 'prayer-plant', name: 'Stromanthe', species: 'Stromanthe sanguinea', emoji: 'üôè', 
                image: 'https://upload.wikimedia.org/wikipedia/commons/thumb/0/08/Stromanthe_sanguinea_Triostar.jpg/400px-Stromanthe_sanguinea_Triostar.jpg', 
                category: ['tropical'], difficulty: 'hard', origin: 'Brazylia', toxic: 'Nie - bezpieczna', maxHeight: '1m',
                care: { water: 'Co 5-7 dni, stale wilgotna', light: 'Jasne rozproszone, bez s≈Ço≈Ñca', humidity: '60-80%', temperature: '18-27¬∞C' }, 
                description: 'Spektakularne li≈õcie - zielone z r√≥≈ºowymi i bia≈Çymi smugami, sp√≥d czerwony! Sk≈Çada li≈õcie na noc jak do modlitwy.',
                funFacts: ['Nazywana Triostar lub Magic Star', 'Spokrewniona z MarantƒÖ i KalateƒÖ', 'Sp√≥d li≈õci jest jaskrawo r√≥≈ºowy', 'Li≈õcie ruszajƒÖ siƒô w ciƒÖgu dnia'],
                diseases: ['BrƒÖzowe brzegi = suche powietrze (najczƒô≈õciej!)', 'Zwijanie li≈õci = za sucho', 'Blade kolory = za ma≈Ço ≈õwiat≈Ça', 'BrƒÖzowe plamy = woda na li≈õciach + s≈Ço≈Ñce'],
                propagation: 'Podzia≈Ç przy przesadzaniu - ka≈ºda czƒô≈õƒá musi mieƒá korzenie i punkty wzrostu.'
            },
            { 
                id: 'rubber-tineke', name: 'Fikus Tineke', species: 'Ficus elastica Tineke', emoji: 'üé®', 
                image: 'https://upload.wikimedia.org/wikipedia/commons/thumb/d/d9/Ficus_elastica_leaves.jpg/400px-Ficus_elastica_leaves.jpg', 
                category: ['popular', 'tropical'], difficulty: 'easy', origin: 'Kultywar (orygina≈Ç z Azji)', toxic: 'Tak - sok dra≈ºniƒÖcy', maxHeight: '2m w domu',
                care: { water: 'Co 7-10 dni', light: 'Jasne rozproszone - WA≈ªNE dla kolor√≥w!', humidity: '40-60%', temperature: '16-27¬∞C' }, 
                description: 'Tr√≥jkolorowy fikus - zielony, kremowy i r√≥≈ºowy! M≈Çode li≈õcie majƒÖ intensywnie r√≥≈ºowe os≈Çonki. Piƒôkniejszy ni≈º zwyk≈Çy fikus.',
                funFacts: ['Im wiƒôcej ≈õwiat≈Ça tym wiƒôcej r√≥≈ºu', 'Nowe li≈õcie wychodzƒÖ z r√≥≈ºowej os≈Çonki', 'Wymaga wiƒôcej ≈õwiat≈Ça ni≈º zielone odmiany', 'Wolniej ro≈õnie od zwyk≈Çego fikusa'],
                diseases: ['Utrata kolor√≥w = za ma≈Ço ≈õwiat≈Ça', 'BrƒÖzowe plamy = oparzenie (zbyt ostre s≈Ço≈Ñce)', 'Opadanie li≈õci = przeciƒÖg lub szok', 'Lepkie li≈õcie = szkodniki'],
                propagation: 'Sadzonki wierzcho≈Çkowe w wodzie lub perlicie. Sok dra≈ºni - u≈ºywaj rƒôkawiczek.'
            },
            { 
                id: 'bromeliad', name: 'Bromelia', species: 'Guzmania lingulata', emoji: 'üî•', 
                image: 'https://upload.wikimedia.org/wikipedia/commons/thumb/4/4e/Guzmania_lingulata_flower.jpg/400px-Guzmania_lingulata_flower.jpg', 
                category: ['flowering', 'tropical'], difficulty: 'medium', origin: 'Ameryka ≈örodkowa i P≈Çd.', toxic: 'Nie - bezpieczna', maxHeight: '50cm',
                care: { water: 'Woda w rozetƒô 1x/tydzie≈Ñ', light: 'Jasne rozproszone', humidity: '50-70%', temperature: '18-27¬∞C' }, 
                description: 'Spektakularny kwiatostan w czerwieni, pomara≈Ñczu lub r√≥≈ºu! Kwiat trwa miesiƒÖcami. Po kwitnieniu ro≈õlina matka umiera ale zostawia dzieci.',
                funFacts: ['Ananas to te≈º bromelia!', 'Kwiat to tak naprawdƒô kolorowe li≈õcie', 'Wodƒô wlewamy do "kielicha" w ≈õrodku', 'Ro≈õlina matka umiera po kwitnieniu - to normalne'],
                diseases: ['Gnicie podstawy = za mokro', 'BrƒÖzowienie kwiatostanu = naturalny koniec kwitnienia', 'Blade kolory = za ma≈Ço ≈õwiat≈Ça', 'Suche ko≈Ñc√≥wki = za suche powietrze'],
                propagation: 'Oddziel "pupy" (dzieci) gdy osiƒÖgnƒÖ 1/3 wielko≈õci matki. Nowa ro≈õlina zakwitnie za 2-3 lata.'
            },
            { 
                id: 'bird-nest-fern', name: 'Paproƒá Gniazdowa', species: 'Asplenium nidus', emoji: 'ü™∫', 
                image: 'https://upload.wikimedia.org/wikipedia/commons/thumb/5/5d/Asplenium_nidus_kz1.jpg/400px-Asplenium_nidus_kz1.jpg', 
                category: ['tropical'], difficulty: 'medium', origin: 'Azja, Australia, Hawaje', toxic: 'Nie - bezpieczna', maxHeight: '1m',
                care: { water: 'Co 5-7 dni, stale lekko wilgotna', light: 'Cie≈Ñ do jasnego rozproszonego', humidity: '60-80%', temperature: '18-27¬∞C' }, 
                description: 'B≈ÇyszczƒÖce, falowane li≈õcie wyrastajƒÖce z centralnej rozety - jak ptasie gniazdo! Jedna z naj≈Çadniejszych paproci do domu.',
                funFacts: ['W naturze ro≈õnie na drzewach jako epifit', 'M≈Çode li≈õcie sƒÖ zwiniƒôte jak "g≈Ç√≥wki skrzypiec"', 'Nigdy nie lej wody do ≈õrodka rozety - zgnije!', 'IstniejƒÖ odmiany z bardzo falowanymi li≈õƒámi'],
                diseases: ['BrƒÖzowe brzegi = za suche powietrze', '≈ª√≥≈Çte li≈õcie = przelanie lub za du≈ºo s≈Ço≈Ñca', 'Czarne plamy = woda w rozecie + gnicie', 'Blade li≈õcie = za ma≈Ço ≈õwiat≈Ça'],
                propagation: 'Tylko z zarodnik√≥w (trudne!). Nie da siƒô dzieliƒá ani robiƒá sadzonek.'
            }
        ];

        // ===== STATE =====
        let appData = { plants: [], settings: { apiKey: '' } };
        let currentFilter = 'all';
        
        // ===== INIT =====
        function init() {
            loadData();
            renderAll();
            checkApiKey();
        }
        
        function loadData() {
            const saved = localStorage.getItem('plantcare');
            if (saved) appData = JSON.parse(saved);
        }
        
        function saveData() {
            localStorage.setItem('plantcare', JSON.stringify(appData));
            scheduleSyncToCloud && scheduleSyncToCloud();
        }
        
        // ===== NAVIGATION =====
        function showPage(id) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.getElementById('page-' + id).classList.add('active');
            
            document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
            const btn = document.querySelector('.nav-btn[data-page="' + id + '"]');
            if (btn) btn.classList.add('active');
            
            if (id === 'scanner') checkApiKey();
        }
        
        // ===== RENDER =====
        function renderAll() {
            updateStats();
            renderHomePlants();
            renderPlantsGrid();
            renderEncyclopedia();
        }
        
        function updateStats() {
            document.getElementById('stat-total').textContent = appData.plants.length;
            document.getElementById('stat-water').textContent = appData.plants.filter(p => needsWater(p)).length;
            document.getElementById('stat-issues').textContent = appData.plants.filter(p => p.status === 'problem').length;
        }
        
        function needsWater(plant) {
            if (!plant.lastWatered) return true;
            const days = (Date.now() - new Date(plant.lastWatered).getTime()) / (1000*60*60*24);
            return days >= (plant.interval || 7);
        }
        
        function renderHomePlants() {
            const el = document.getElementById('home-plants');
            if (appData.plants.length === 0) {
                el.innerHTML = '<div class="empty"><div class="empty-icon">üå±</div><div class="empty-title">Brak ro≈õlin</div><div class="empty-text">Dodaj swojƒÖ pierwszƒÖ ro≈õlinƒô</div><button class="btn btn-primary" onclick="openAddPlant()">‚ûï Dodaj ro≈õlinƒô</button></div>';
                return;
            }
            el.innerHTML = appData.plants.slice(0, 4).map(p => '<div class="plant-card" onclick="showMyPlant(' + p.id + ')"><div class="plant-card-emoji">' + (p.emoji || 'üåø') + '</div><div class="plant-card-body"><div class="plant-card-name">' + p.name + '</div><div class="plant-card-species">' + (needsWater(p) ? 'üíß Podlej' : '‚úì OK') + '</div></div></div>').join('');
        }
        
        function renderPlantsGrid() {
            const el = document.getElementById('plants-grid');
            if (appData.plants.length === 0) {
                el.innerHTML = '<div class="empty" style="grid-column:span 2;"><div class="empty-icon">üå±</div><div class="empty-text">Brak ro≈õlin</div></div>';
                return;
            }
            el.innerHTML = appData.plants.map(p => '<div class="plant-card" onclick="showMyPlant(' + p.id + ')"><div class="plant-card-emoji">' + (p.emoji || 'üåø') + '</div><div class="plant-card-body"><div class="plant-card-name">' + p.name + '</div></div></div>').join('');
        }
        
        function renderEncyclopedia() {
            const search = document.getElementById('encyc-search').value.toLowerCase();
            let plants = encyclopediaDB;
            
            if (currentFilter !== 'all') {
                plants = plants.filter(p => p.category.includes(currentFilter));
            }
            if (search) {
                plants = plants.filter(p => p.name.toLowerCase().includes(search) || p.species.toLowerCase().includes(search));
            }
            
            document.getElementById('encyc-grid').innerHTML = plants.map(p => {
                const badge = p.difficulty === 'easy' ? 'badge-easy' : p.difficulty === 'hard' ? 'badge-hard' : 'badge-medium';
                const badgeText = p.difficulty === 'easy' ? 'üë∂ ≈Åatwa' : p.difficulty === 'hard' ? 'üéØ Trudna' : 'üìä ≈örednia';
                return '<div class="plant-card" onclick="showEncycPlant(\'' + p.id + '\')">' +
                    '<div class="plant-card-visual">' +
                        '<img src="' + p.image + '" class="plant-card-img" loading="lazy" onerror="this.parentElement.innerHTML=\'<div class=plant-card-emoji>' + p.emoji + '</div>\'">' +
                    '</div>' +
                    '<div class="plant-card-body">' +
                        '<div class="plant-card-name">' + p.name + '</div>' +
                        '<div class="plant-card-species">' + p.species + '</div>' +
                        '<span class="badge ' + badge + '">' + badgeText + '</span>' +
                    '</div>' +
                '</div>';
            }).join('');
        }
        
        function setFilter(filter, btn) {
            currentFilter = filter;
            document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            renderEncyclopedia();
        }
        
        function filterPlants() { renderEncyclopedia(); }
        
        // ===== MY PLANT DETAILS =====
        function showMyPlant(id) {
            const p = appData.plants.find(x => x.id === id);
            if (!p) return;
            if (!p.photos) p.photos = [];
            
            document.getElementById('modal-title').textContent = p.name;
            
            let html = '<div class="detail-header">';
            html += '<div style="font-size:64px;margin-bottom:12px;">' + (p.emoji || 'üåø') + '</div>';
            html += '<div class="detail-name">' + p.name + '</div>';
            html += '<div class="detail-species">' + (p.species || '') + '</div></div>';
            
            // Galeria zdjƒôƒá
            html += '<div class="photo-journal">';
            html += '<div class="photo-journal-header">';
            html += '<span>üì∏ Dziennik zdjƒôƒá (' + p.photos.length + ')</span>';
            html += '<div style="display:flex;gap:8px;">';
            html += '<button class="btn btn-small btn-primary" onclick="addPlantPhoto(' + id + ')">üì∑ Aparat</button>';
            html += '<button class="btn btn-small btn-secondary" onclick="addPlantPhotoGallery(' + id + ')">üñºÔ∏è Galeria</button>';
            html += '</div>';
            html += '</div>';
            
            if (p.photos.length > 0) {
                html += '<div class="photo-grid">';
                p.photos.slice().reverse().forEach((photo, idx) => {
                    const realIdx = p.photos.length - 1 - idx;
                    html += '<div class="photo-item" onclick="viewPhoto(' + id + ',' + realIdx + ')">';
                    html += '<img src="' + photo.data + '" alt="Zdjƒôcie">';
                    html += '<div class="photo-date">' + new Date(photo.date).toLocaleDateString('pl') + '</div>';
                    html += '</div>';
                });
                html += '</div>';
                if (p.photos.length >= 2) {
                    html += '<button class="btn btn-secondary btn-block" onclick="comparePhotos(' + id + ')">üîÑ Por√≥wnaj postƒôpy</button>';
                }
            } else {
                html += '<div class="photo-empty">Brak zdjƒôƒá - zr√≥b pierwsze zdjƒôcie!</div>';
            }
            html += '</div>';
            
            // Info i przyciski
            html += '<div class="info-grid">';
            html += '<div class="info-item"><div class="info-label">Ostatnie podlanie</div><div class="info-value">' + (p.lastWatered ? new Date(p.lastWatered).toLocaleDateString('pl') : 'Nigdy') + '</div></div>';
            html += '<div class="info-item"><div class="info-label">Cykl podlewania</div><div class="info-value">Co ' + (p.interval || 7) + ' dni</div></div>';
            html += '</div>';
            html += '<div class="btn-group">';
            html += '<button class="btn btn-primary" onclick="waterPlant(' + id + ')">üíß Podlej</button>';
            html += '<button class="btn btn-secondary" onclick="deletePlant(' + id + ')">üóëÔ∏è Usu≈Ñ</button>';
            html += '</div>';
            
            document.getElementById('modal-body').innerHTML = html;
            document.getElementById('modal').classList.add('active');
        }
        
        function waterPlant(id) {
            const p = appData.plants.find(x => x.id === id);
            if (p) {
                p.lastWatered = new Date().toISOString();
                saveData();
                renderAll();
                closeModal();
                toast('üíß Podlano!');
            }
        }
        
        function deletePlant(id) {
            if (confirm('UsunƒÖƒá tƒô ro≈õlinƒô?')) {
                appData.plants = appData.plants.filter(x => x.id !== id);
                saveData();
                renderAll();
                closeModal();
                toast('üóëÔ∏è Usuniƒôto');
            }
        }
        
        // ===== ENCYCLOPEDIA DETAILS =====
        function showEncycPlant(id) {
            const p = encyclopediaDB.find(x => x.id === id);
            if (!p) return;
            
            const badge = p.difficulty === 'easy' ? 'badge-easy' : p.difficulty === 'hard' ? 'badge-hard' : 'badge-medium';
            const badgeText = p.difficulty === 'easy' ? 'üë∂ ≈Åatwa' : p.difficulty === 'hard' ? 'üéØ Trudna' : 'üìä ≈örednia';
            
            let html = '<img src="' + p.image + '" class="detail-img" onerror="this.outerHTML=\'<div style=font-size:80px;text-align:center;padding:20px;background:var(--bg-elevated);border-radius:16px;margin-bottom:16px;>' + p.emoji + '</div>\'">';
            html += '<div class="detail-header"><div class="detail-name">' + p.name + '</div><div class="detail-species">' + p.species + '</div><span class="badge ' + badge + '">' + badgeText + '</span></div>';
            html += '<div class="detail-desc">' + p.description + '</div>';
            
            // Ciekawostki (lista)
            if (p.funFacts && p.funFacts.length > 0) {
                html += '<div class="detail-fact"><div class="detail-fact-title">üí° Ciekawostki</div><ul style="margin:0;padding-left:18px;">';
                p.funFacts.forEach(fact => { html += '<li style="margin-bottom:6px;">' + fact + '</li>'; });
                html += '</ul></div>';
            } else if (p.funFact) {
                html += '<div class="detail-fact"><div class="detail-fact-title">üí° Ciekawostka</div>' + p.funFact + '</div>';
            }
            
            // Info grid
            html += '<div class="info-grid">';
            if (p.origin) html += '<div class="info-item"><div class="info-label">üåç Pochodzenie</div><div class="info-value">' + p.origin + '</div></div>';
            if (p.maxHeight) html += '<div class="info-item"><div class="info-label">üìè Max wysoko≈õƒá</div><div class="info-value">' + p.maxHeight + '</div></div>';
            if (p.toxic) html += '<div class="info-item"><div class="info-label">‚ö†Ô∏è Toksyczno≈õƒá</div><div class="info-value">' + p.toxic + '</div></div>';
            html += '</div>';
            
            // Pielƒôgnacja
            html += '<h4 style="margin:16px 0 12px;font-size:14px;">üå± Pielƒôgnacja</h4>';
            html += '<div class="care-list">';
            html += '<div class="care-item"><div class="care-icon">üíß</div><div><div class="care-label">Podlewanie</div><div class="care-value">' + p.care.water + '</div></div></div>';
            html += '<div class="care-item"><div class="care-icon">‚òÄÔ∏è</div><div><div class="care-label">≈öwiat≈Ço</div><div class="care-value">' + p.care.light + '</div></div></div>';
            html += '<div class="care-item"><div class="care-icon">üí®</div><div><div class="care-label">Wilgotno≈õƒá</div><div class="care-value">' + p.care.humidity + '</div></div></div>';
            html += '<div class="care-item"><div class="care-icon">üå°Ô∏è</div><div><div class="care-label">Temperatura</div><div class="care-value">' + p.care.temperature + '</div></div></div>';
            html += '</div>';
            
            // Najczƒôstsze problemy
            if (p.diseases && p.diseases.length > 0) {
                html += '<h4 style="margin:16px 0 12px;font-size:14px;">ü©∫ Najczƒôstsze problemy</h4>';
                html += '<div style="background:var(--bg-elevated);border-radius:12px;padding:12px;">';
                p.diseases.forEach(d => { 
                    html += '<div style="padding:6px 0;border-bottom:1px solid var(--border);font-size:13px;">' + d + '</div>'; 
                });
                html += '</div>';
            }
            
            // Rozmna≈ºanie
            if (p.propagation) {
                html += '<h4 style="margin:16px 0 12px;font-size:14px;">üå± Rozmna≈ºanie</h4>';
                html += '<div style="background:linear-gradient(135deg,rgba(63,185,80,0.1),rgba(35,134,54,0.05));border:1px solid rgba(63,185,80,0.2);border-radius:12px;padding:14px;font-size:13px;line-height:1.5;">' + p.propagation + '</div>';
            }
            
            html += '<button class="btn btn-primary btn-block" style="margin-top:20px;" onclick="addFromEncyc(\'' + p.id + '\')">‚ûï Dodaj do moich ro≈õlin</button>';
            
            document.getElementById('modal-title').textContent = p.name;
            document.getElementById('modal-body').innerHTML = html;
            document.getElementById('modal').classList.add('active');
        }
        
        function addFromEncyc(id) {
            const p = encyclopediaDB.find(x => x.id === id);
            if (!p) return;
            
            const match = p.care.water.match(/\d+/);
            const interval = match ? parseInt(match[0]) : 7;
            
            appData.plants.push({
                id: Date.now(),
                name: p.name,
                species: p.species,
                emoji: p.emoji,
                interval: interval,
                lastWatered: new Date().toISOString(),
                status: 'healthy'
            });
            
            saveData();
            renderAll();
            closeModal();
            toast('üå± Dodano!');
        }
        
        // ===== ADD PLANT =====
        function openAddPlant() {
            document.getElementById('modal-title').textContent = 'Dodaj ro≈õlinƒô';
            document.getElementById('modal-body').innerHTML = '<div class="form-group"><label class="form-label">Nazwa</label><input type="text" class="form-input" id="add-name" placeholder="np. Moja Monstera"></div><div class="form-group"><label class="form-label">Gatunek (opcjonalnie)</label><input type="text" class="form-input" id="add-species" placeholder="np. Monstera deliciosa"></div><div class="form-group"><label class="form-label">Emoji</label><input type="text" class="form-input" id="add-emoji" value="üåø"></div><div class="form-group"><label class="form-label">Cykl podlewania (dni)</label><input type="number" class="form-input" id="add-interval" value="7" min="1"></div><button class="btn btn-primary btn-block" onclick="addPlant()">‚ûï Dodaj</button><p style="text-align:center;margin-top:16px;color:var(--text-secondary);">lub</p><button class="btn btn-secondary btn-block" onclick="closeModal();showPage(\'encyclopedia\')">üìö Wybierz z encyklopedii</button>';
            document.getElementById('modal').classList.add('active');
        }
        
        function addPlant() {
            const name = document.getElementById('add-name').value.trim();
            if (!name) { toast('‚ùå Podaj nazwƒô'); return; }
            
            appData.plants.push({
                id: Date.now(),
                name: name,
                species: document.getElementById('add-species').value.trim(),
                emoji: document.getElementById('add-emoji').value || 'üåø',
                interval: parseInt(document.getElementById('add-interval').value) || 7,
                lastWatered: new Date().toISOString(),
                status: 'healthy'
            });
            
            saveData();
            renderAll();
            closeModal();
            toast('üå± Dodano!');
        }
        
        // ===== SCANNER =====
        function checkApiKey() {
            const warning = document.getElementById('api-warning');
            if (warning) {
                warning.style.display = appData.settings.apiKey ? 'none' : 'block';
            }
            renderScanHistory();
        }
        
        function pickImage() {
            document.getElementById('fileInput').click();
        }
        
        function handleFile(e) {
            const file = e.target.files[0];
            if (!file) return;
            const reader = new FileReader();
            reader.onload = function(ev) {
                document.getElementById('scanner-preview').innerHTML =
                    '<img src="' + ev.target.result + '" style="width:100%;height:100%;object-fit:cover;">' +
                    '<div class="scanner-analyzing-overlay" id="scan-overlay">' +
                    '<div class="scanner-scan-line"></div>' +
                    '<div class="scanner-spinner"></div>' +
                    '<div style="font-size:14px;font-weight:600;">Analizujƒô ro≈õlinƒô...</div>' +
                    '<div style="font-size:12px;opacity:0.7;">AI bada zdjƒôcie</div>' +
                    '</div>';
                analyzeImage(ev.target.result);
            };
            reader.readAsDataURL(file);
            e.target.value = '';
        }
        
        async function analyzeImage(data) {
            if (!appData.settings.apiKey) {
                document.getElementById('scanner-result').innerHTML =
                    '<div class="alert alert-error"><div class="alert-title">‚ùå Brak klucza API</div>' +
                    '<div class="alert-text">Dodaj klucz Gemini w ustawieniach.</div></div>';
                const overlay = document.getElementById('scan-overlay');
                if (overlay) overlay.remove();
                return;
            }
            document.getElementById('scanner-result').innerHTML = '';
            
            try {
                const base64 = data.split(',')[1];
                const prompt = 'Jeste≈õ ekspertem botaniki. Przeanalizuj to zdjƒôcie ro≈õliny i odpowiedz TYLKO czystym JSON bez ≈ºadnego tekstu ani markdown.\n\nJe≈õli to ro≈õlina, zwr√≥ƒá:\n{\n  "isPlant": true,\n  "confidence": 85,\n  "name": "Polska nazwa ro≈õliny",\n  "species": "≈Åaci≈Ñska nazwa gatunkowa",\n  "description": "Kr√≥tki opis 2-3 zdania",\n  "care": {\n    "water": "Jak czƒôsto podlewaƒá",\n    "light": "Jakie o≈õwietlenie",\n    "humidity": "Wilgotno≈õƒá w %",\n    "temperature": "Zakres ¬∞C"\n  },\n  "toxic": "Tak/Nie/kr√≥tki opis",\n  "difficulty": "easy/medium/hard",\n  "health": "healthy/warning/sick",\n  "healthNote": "Obserwacja kondycji lub null",\n  "tips": ["Tip 1", "Tip 2", "Tip 3"]\n}\n\nJe≈õli NIE jest to ro≈õlina:\n{"isPlant": false, "reason": "kr√≥tkie wyja≈õnienie"}\n\nOdpowiedz TYLKO JSON.';

                const res = await fetch(
                    'https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-lite:generateContent?key=' + appData.settings.apiKey,
                    {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({
                            contents: [{ parts: [
                                { text: prompt },
                                { inline_data: { mime_type: 'image/jpeg', data: base64 }}
                            ]}],
                            generationConfig: { temperature: 0.2 }
                        })
                    }
                );
                
                if (!res.ok) {
                    const errData = await res.json().catch(function() { return {}; });
                    throw new Error(errData.error && errData.error.message ? errData.error.message : 'B≈ÇƒÖd API: ' + res.status);
                }
                
                const json = await res.json();
                let text = json.candidates && json.candidates[0] && json.candidates[0].content && json.candidates[0].content.parts && json.candidates[0].content.parts[0] ? json.candidates[0].content.parts[0].text : '';
                text = text.replace(/```json\n?/g, '').replace(/```\n?/g, '').trim();
                
                const match = text.match(/\{[\s\S]*\}/);
                if (!match) throw new Error('Nie uda≈Ço siƒô przetworzyƒá odpowiedzi AI. Spr√≥buj ponownie.');
                
                const r = JSON.parse(match[0]);
                const overlay = document.getElementById('scan-overlay');
                if (overlay) overlay.remove();

                if (!r.isPlant) {
                    document.getElementById('scanner-result').innerHTML =
                        '<div class="alert alert-warning">' +
                        '<div class="alert-title">‚ö†Ô∏è Nie rozpoznano ro≈õliny</div>' +
                        '<div class="alert-text">' + (r.reason || 'Spr√≥buj wykonaƒá wyra≈∫niejsze zdjƒôcie.') + '</div>' +
                        '</div>';
                    return;
                }

                saveScanToHistory(r, data);
                const encyclopediaMatch = findInEncyclopedia(r.name, r.species);
                showScanResult(r, encyclopediaMatch);

            } catch (err) {
                const overlay = document.getElementById('scan-overlay');
                if (overlay) overlay.remove();
                document.getElementById('scanner-result').innerHTML =
                    '<div class="alert alert-error">' +
                    '<div class="alert-title">‚ùå B≈ÇƒÖd analizy</div>' +
                    '<div class="alert-text">' + err.message + '</div>' +
                    '<button class="btn btn-secondary btn-block" style="margin-top:10px;" onclick="document.getElementById(\'fileInput\').click()">Spr√≥buj ponownie</button>' +
                    '</div>';
            }
        }

        function findInEncyclopedia(name, species) {
            if (!name && !species) return null;
            const n = (name || '').toLowerCase();
            const s = (species || '').toLowerCase();
            return encyclopediaDB.find(function(p) {
                return p.name.toLowerCase().includes(n) ||
                       n.includes(p.name.toLowerCase()) ||
                       (p.species && s && p.species.toLowerCase().includes(s.split(' ')[0])) ||
                       (s && p.species && s.includes(p.species.toLowerCase().split(' ')[0]));
            }) || null;
        }

        function getConfidenceColor(c) {
            if (c >= 85) return '#3fb950';
            if (c >= 60) return '#d29922';
            return '#f85149';
        }

        function getConfidenceLabel(c) {
            if (c >= 85) return 'Wysoka pewno≈õƒá';
            if (c >= 60) return '≈örednia pewno≈õƒá';
            return 'Niska pewno≈õƒá ‚Äì sprawd≈∫';
        }

        function getDifficultyLabel(d) {
            if (d === 'easy')   return 'üü¢ ≈Åatwa';
            if (d === 'medium') return 'üü° ≈örednia';
            if (d === 'hard')   return 'üî¥ WymagajƒÖca';
            return d || '-';
        }

        function getHealthHTML(health, note) {
            if (!health) return '';
            const map = {
                healthy: { icon: '‚úÖ', label: 'WyglƒÖda zdrowo', color: '#3fb950' },
                warning: { icon: '‚ö†Ô∏è', label: 'Wymaga uwagi',   color: '#d29922' },
                sick:    { icon: 'üî¥', label: 'Potrzebuje pomocy', color: '#f85149' }
            };
            const h = map[health] || map.healthy;
            return '<div style="display:flex;align-items:flex-start;gap:8px;padding:10px;background:rgba(255,255,255,0.04);border-radius:10px;margin-bottom:12px;">' +
                '<span style="font-size:18px;">' + h.icon + '</span>' +
                '<div><div style="font-size:13px;font-weight:600;color:' + h.color + ';">' + h.label + '</div>' +
                (note ? '<div style="font-size:12px;color:var(--text-secondary);margin-top:2px;">' + note + '</div>' : '') +
                '</div></div>';
        }

        function showScanResult(r, encMatch) {
            const conf = r.confidence || 70;
            const confColor = getConfidenceColor(conf);
            const safeNameAttr = (r.name || '').replace(/'/g, "\\'");
            const safeSpeciesAttr = (r.species || '').replace(/'/g, "\\'");
            const encId = encMatch ? encMatch.id : null;

            let html = '<div class="card">';

            html += '<div style="display:flex;align-items:flex-start;justify-content:space-between;margin-bottom:12px;">';
            html += '<div><div style="font-size:20px;font-weight:700;">' + (r.name || 'Nieznana ro≈õlina') +
                    (encMatch ? '<span class="match-badge">üìö W bazie</span>' : '') + '</div>' +
                    '<div style="font-style:italic;color:var(--text-secondary);font-size:13px;margin-top:2px;">' + (r.species || '') + '</div></div>';
            html += '</div>';

            html += '<div style="margin-bottom:16px;">';
            html += '<div style="display:flex;justify-content:space-between;font-size:12px;color:var(--text-secondary);">' +
                    '<span>' + getConfidenceLabel(conf) + '</span><span style="color:' + confColor + ';font-weight:600;">' + conf + '%</span></div>';
            html += '<div class="confidence-bar"><div class="confidence-fill" style="width:' + conf + '%;background:' + confColor + ';"></div></div>';
            html += '</div>';

            html += '<div class="result-tabs">' +
                    '<button class="result-tab active" onclick="switchScanTab(\'info\',this)">‚ÑπÔ∏è Info</button>' +
                    '<button class="result-tab" onclick="switchScanTab(\'care\',this)">üíß Pielƒôgnacja</button>' +
                    (encMatch ? '<button class="result-tab" onclick="switchScanTab(\'db\',this)">üìö Baza</button>' : '') +
                    '</div>';

            // TAB INFO
            html += '<div id="scan-tab-info">';
            html += '<p style="font-size:14px;line-height:1.6;margin-bottom:12px;">' + (r.description || '') + '</p>';
            html += getHealthHTML(r.health, r.healthNote);
            if (r.toxic) {
                html += '<div style="display:flex;gap:8px;align-items:center;font-size:13px;padding:8px 0;border-top:1px solid var(--border);">' +
                        '<span>‚ò†Ô∏è</span><span><b>Toksyczno≈õƒá:</b> ' + r.toxic + '</span></div>';
            }
            if (r.difficulty) {
                html += '<div style="display:flex;gap:8px;align-items:center;font-size:13px;padding:8px 0;border-top:1px solid var(--border);">' +
                        '<span>üìä</span><span><b>Trudno≈õƒá:</b> ' + getDifficultyLabel(r.difficulty) + '</span></div>';
            }
            if (r.tips && r.tips.length) {
                html += '<div style="margin-top:12px;padding-top:12px;border-top:1px solid var(--border);">' +
                        '<div style="font-size:12px;color:var(--text-secondary);font-weight:600;margin-bottom:8px;">üí° WSKAZ√ìWKI AI</div>';
                r.tips.forEach(function(tip) {
                    html += '<div style="font-size:13px;padding:5px 0;display:flex;gap:8px;"><span style="color:var(--accent);">‚Ä¢</span><span>' + tip + '</span></div>';
                });
                html += '</div>';
            }
            html += '</div>';

            // TAB PIELEGNACJA
            html += '<div id="scan-tab-care" style="display:none;">';
            if (r.care) {
                var careItems = [
                    { icon: 'üíß', label: 'Podlewanie', val: r.care.water },
                    { icon: '‚òÄÔ∏è', label: '≈öwiat≈Ço',    val: r.care.light },
                    { icon: 'üí¶', label: 'Wilgotno≈õƒá',  val: r.care.humidity },
                    { icon: 'üå°Ô∏è', label: 'Temperatura', val: r.care.temperature }
                ];
                careItems.forEach(function(item) {
                    if (!item.val) return;
                    html += '<div class="care-item" style="padding:12px 0;border-bottom:1px solid var(--border);">' +
                            '<div class="care-icon">' + item.icon + '</div>' +
                            '<div><div class="care-label">' + item.label + '</div>' +
                            '<div class="care-value">' + item.val + '</div></div></div>';
                });
            } else {
                html += '<p style="color:var(--text-secondary);font-size:13px;">Brak danych pielƒôgnacyjnych.</p>';
            }
            html += '</div>';

            // TAB BAZA
            if (encMatch) {
                html += '<div id="scan-tab-db" style="display:none;">';
                html += '<div style="background:rgba(63,185,80,0.08);border-radius:10px;padding:12px;margin-bottom:12px;">' +
                        '<div style="font-size:12px;color:var(--accent);font-weight:600;">‚úÖ Znaleziono w encyklopedii</div>' +
                        '<div style="font-size:13px;margin-top:4px;">' + encMatch.name + ' ‚Äì ' + encMatch.species + '</div></div>';
                if (encMatch.funFacts && encMatch.funFacts.length) {
                    html += '<div style="font-size:12px;color:var(--text-secondary);font-weight:600;margin-bottom:8px;">üß† CIEKAWOSTKI</div>';
                    encMatch.funFacts.forEach(function(f) {
                        html += '<div style="font-size:13px;padding:4px 0;display:flex;gap:8px;"><span style="color:var(--accent);">‚Ä¢</span><span>' + f + '</span></div>';
                    });
                }
                if (encMatch.diseases && encMatch.diseases.length) {
                    html += '<div style="font-size:12px;color:var(--text-secondary);font-weight:600;margin:12px 0 8px;">üîç DIAGNOSTYKA</div>';
                    encMatch.diseases.forEach(function(d) {
                        html += '<div style="font-size:13px;padding:4px 0;display:flex;gap:8px;"><span style="color:var(--warning);">‚Ä¢</span><span>' + d + '</span></div>';
                    });
                }
                html += '<button class="btn btn-secondary btn-block" style="margin-top:14px;" onclick="showEncycPlant(\'' + encId + '\')">üìñ Otw√≥rz w encyklopedii</button>';
                html += '</div>';
            }

            html += '<div style="display:flex;gap:10px;margin-top:16px;">';
            if (encMatch) {
                html += '<button class="btn btn-secondary" style="flex:1;" onclick="addFromEncyc(\'' + encId + '\')">üìö Dodaj z bazy</button>';
            }
            html += '<button class="btn btn-primary" style="flex:1;" onclick="addScanned(\'' + safeNameAttr + '\',\'' + safeSpeciesAttr + '\')">‚ûï Dodaj do ro≈õlin</button>';
            html += '</div>';
            html += '</div>';

            document.getElementById('scanner-result').innerHTML = html;
        }

        function switchScanTab(tabName, btn) {
            ['info','care','db'].forEach(function(t) {
                var el = document.getElementById('scan-tab-' + t);
                if (el) el.style.display = 'none';
            });
            document.querySelectorAll('.result-tab').forEach(function(b) { b.classList.remove('active'); });
            var target = document.getElementById('scan-tab-' + tabName);
            if (target) target.style.display = 'block';
            if (btn) btn.classList.add('active');
        }

        function saveScanToHistory(r, imageData) {
            if (!appData.scanHistory) appData.scanHistory = [];
            appData.scanHistory.unshift({
                name: r.name || 'Nieznana',
                species: r.species || '',
                confidence: r.confidence || 0,
                date: new Date().toISOString(),
                thumb: imageData,
                description: r.description || '',
                care: r.care || null,
                health: r.health || null,
                healthNote: r.healthNote || null,
                toxic: r.toxic || null,
                difficulty: r.difficulty || null,
                tips: r.tips || []
            });
            if (appData.scanHistory.length > 5) appData.scanHistory = appData.scanHistory.slice(0, 5);
            saveData();
            renderScanHistory();
        }

        function renderScanHistory() {
            var list = document.getElementById('scan-history-list');
            if (!list) return;
            var history = appData.scanHistory || [];
            if (!history.length) {
                list.innerHTML = '<p style="color:var(--text-secondary);font-size:13px;">Brak historii skan√≥w.</p>';
                return;
            }
            list.innerHTML = history.map(function(item, idx) {
                var date = new Date(item.date);
                var dateStr = date.toLocaleDateString('pl-PL') + ' ' + date.toLocaleTimeString('pl-PL', {hour:'2-digit', minute:'2-digit'});
                var confColor = getConfidenceColor(item.confidence);
                return '<div class="scan-history-item" onclick="showScanHistoryItem(' + idx + ')">' +
                    (item.thumb
                        ? '<img class="scan-history-thumb" src="' + item.thumb + '">'
                        : '<div class="scan-history-thumb" style="display:flex;align-items:center;justify-content:center;font-size:22px;background:var(--bg-elevated);">üåø</div>') +
                    '<div class="scan-history-info">' +
                    '<div class="scan-history-name">' + item.name + '</div>' +
                    '<div class="scan-history-date">' + (item.species ? item.species + ' ¬∑ ' : '') + dateStr + '</div>' +
                    '</div>' +
                    '<div style="font-size:12px;font-weight:600;color:' + confColor + ';">' + item.confidence + '%</div>' +
                    '</div>';
            }).join('');
        }

        function showScanHistoryItem(idx) {
            var item = (appData.scanHistory || [])[idx];
            if (!item) return;
            if (item.thumb) {
                document.getElementById('scanner-preview').innerHTML =
                    '<img src="' + item.thumb + '" style="width:100%;height:100%;object-fit:cover;">';
            }
            var encMatch = findInEncyclopedia(item.name, item.species);
            showScanResult(item, encMatch);
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function addScanned(name, species) {
            appData.plants.push({
                id: Date.now(),
                name: name,
                species: species,
                emoji: 'üåø',
                interval: 7,
                lastWatered: new Date().toISOString(),
                status: 'healthy'
            });
            saveData();
            renderAll();
            toast('üå± Dodano: ' + name + '!');
            showPage('home');
        }
        
        // ===== SETTINGS =====
        function saveApiKey() {
            appData.settings.apiKey = document.getElementById('api-key').value.trim();
            saveData();
            checkApiKey();
            toast('‚úÖ Zapisano!');
        }
        
        function exportData() {
            const blob = new Blob([JSON.stringify(appData, null, 2)], { type: 'application/json' });
            const a = document.createElement('a');
            a.href = URL.createObjectURL(blob);
            a.download = 'plantcare-backup.json';
            a.click();
            toast('üì§ Wyeksportowano');
        }
        
        function importData() {
            const input = document.createElement('input');
            input.type = 'file';
            input.accept = '.json';
            input.onchange = function(e) {
                const reader = new FileReader();
                reader.onload = function(ev) {
                    try {
                        appData = JSON.parse(ev.target.result);
                        saveData();
                        renderAll();
                        toast('üì• Zaimportowano');
                    } catch (err) {
                        toast('‚ùå B≈ÇƒÖd importu');
                    }
                };
                reader.readAsText(e.target.files[0]);
            };
            input.click();
        }
        
        // ===== MODAL =====
        function closeModal(e) {
            if (e && e.target !== e.currentTarget) return;
            document.getElementById('modal').classList.remove('active');
        }
        
        // ===== PHOTO JOURNAL =====
        let currentPhotoPlantId = null;
        
        function addPlantPhoto(plantId) {
            currentPhotoPlantId = plantId;
            document.getElementById('plantCameraInput').click();
        }
        
        function addPlantPhotoGallery(plantId) {
            currentPhotoPlantId = plantId;
            document.getElementById('plantGalleryInput').click();
        }
        
        function handlePlantPhoto(e) {
            const file = e.target.files[0];
            if (!file || !currentPhotoPlantId) return;
            
            const plantId = currentPhotoPlantId;
            
            const reader = new FileReader();
            reader.onload = function(ev) {
                const img = new Image();
                img.onload = function() {
                    const canvas = document.createElement('canvas');
                    const maxSize = 800;
                    let w = img.width, h = img.height;
                    if (w > h && w > maxSize) { h = h * maxSize / w; w = maxSize; }
                    else if (h > maxSize) { w = w * maxSize / h; h = maxSize; }
                    canvas.width = w; canvas.height = h;
                    canvas.getContext('2d').drawImage(img, 0, 0, w, h);
                    
                    const p = appData.plants.find(function(x) { return x.id === plantId; });
                    if (p) {
                        if (!p.photos) p.photos = [];
                        p.photos.push({
                            date: new Date().toISOString(),
                            data: canvas.toDataURL('image/jpeg', 0.7)
                        });
                        saveData();
                        showMyPlant(plantId);
                        toast('üì∏ Zdjƒôcie dodane!');
                    }
                };
                img.src = ev.target.result;
            };
            reader.readAsDataURL(file);
            
            // Reset inputa
            e.target.value = '';
        }
        
        function viewPhoto(plantId, photoIdx) {
            const p = appData.plants.find(x => x.id === plantId);
            if (!p || !p.photos[photoIdx]) return;
            
            const photo = p.photos[photoIdx];
            document.getElementById('modal-title').textContent = 'üì∏ ' + new Date(photo.date).toLocaleDateString('pl');
            
            let html = '<div class="photo-view">';
            html += '<img src="' + photo.data + '" class="photo-full">';
            html += '<div class="photo-nav">';
            if (photoIdx > 0) {
                html += '<button class="btn btn-secondary" onclick="viewPhoto(' + plantId + ',' + (photoIdx-1) + ')">‚óÄ Poprzednie</button>';
            }
            html += '<button class="btn btn-danger" onclick="deletePhoto(' + plantId + ',' + photoIdx + ')">üóëÔ∏è Usu≈Ñ</button>';
            if (photoIdx < p.photos.length - 1) {
                html += '<button class="btn btn-secondary" onclick="viewPhoto(' + plantId + ',' + (photoIdx+1) + ')">Nastƒôpne ‚ñ∂</button>';
            }
            html += '</div>';
            html += '<button class="btn btn-primary btn-block" onclick="showMyPlant(' + plantId + ')">‚Ü© Powr√≥t</button>';
            html += '</div>';
            
            document.getElementById('modal-body').innerHTML = html;
        }
        
        function deletePhoto(plantId, photoIdx) {
            if (!confirm('UsunƒÖƒá to zdjƒôcie?')) return;
            const p = appData.plants.find(x => x.id === plantId);
            if (p && p.photos) {
                p.photos.splice(photoIdx, 1);
                saveData();
                showMyPlant(plantId);
                toast('üóëÔ∏è Zdjƒôcie usuniƒôte');
            }
        }
        
        function comparePhotos(plantId) {
            const p = appData.plants.find(x => x.id === plantId);
            if (!p || !p.photos || p.photos.length < 2) return;
            
            const first = p.photos[0];
            const last = p.photos[p.photos.length - 1];
            const daysDiff = Math.round((new Date(last.date) - new Date(first.date)) / (1000*60*60*24));
            
            document.getElementById('modal-title').textContent = 'üîÑ Por√≥wnanie postƒôp√≥w';
            
            let html = '<div class="compare-view">';
            html += '<div class="compare-info">R√≥≈ºnica: <strong>' + daysDiff + ' dni</strong> | Zdjƒôƒá: <strong>' + p.photos.length + '</strong></div>';
            html += '<div class="compare-grid">';
            html += '<div class="compare-item"><div class="compare-label">Pierwsze (' + new Date(first.date).toLocaleDateString('pl') + ')</div><img src="' + first.data + '"></div>';
            html += '<div class="compare-item"><div class="compare-label">Ostatnie (' + new Date(last.date).toLocaleDateString('pl') + ')</div><img src="' + last.data + '"></div>';
            html += '</div>';
            html += '<button class="btn btn-primary btn-block" onclick="showMyPlant(' + plantId + ')">‚Ü© Powr√≥t</button>';
            html += '</div>';
            
            document.getElementById('modal-body').innerHTML = html;
        }
        
        // ===== TOAST =====
        function toast(msg) {
            const el = document.getElementById('toast');
            el.textContent = msg;
            el.classList.add('show');
            setTimeout(() => el.classList.remove('show'), 2500);
        }
        
        }
        
        // ===== FIREBASE SYNC =====
        let fbApp = null;
        let fbDb  = null;
        let fbUid = null;
        let fbUnsubscribe = null;  // nas≈Çuchiwanie na zmiany w Firestore
        let syncPending = false;
        let syncTimeout = null;

        // Sprawd≈∫ przy starcie czy mamy zapisanƒÖ konfiguracjƒô
        function initFirebase() {
            const savedConfig = localStorage.getItem('fb_config');
            const savedUid    = localStorage.getItem('fb_uid');
            if (savedConfig) {
                try {
                    const config = JSON.parse(savedConfig);
                    setupFirebase(config, savedUid);
                } catch(e) {
                    console.warn('B≈Çƒôdna konfiguracja Firebase:', e);
                }
            }
            updateSyncUI();
        }

        function setupFirebase(config, existingUid) {
            try {
                // Inicjalizuj Firebase (sprawd≈∫ czy ju≈º nie zainicjalizowany)
                if (!firebase.apps || !firebase.apps.length) {
                    fbApp = firebase.initializeApp(config);
                } else {
                    fbApp = firebase.apps[0];
                }
                fbDb = firebase.firestore();

                // Generuj lub u≈ºyj istniejƒÖcego UID
                fbUid = existingUid || generateUID();
                localStorage.setItem('fb_uid', fbUid);

                // Zacznij nas≈Çuchiwaƒá na zmiany w Firestore (real-time sync)
                startListening();

                updateSyncUI('connected');
                return true;
            } catch(e) {
                console.error('B≈ÇƒÖd Firebase:', e);
                updateSyncUI('error', e.message);
                return false;
            }
        }

        function generateUID() {
            // Generuj unikalny 8-znakowy kod (≈Çatwy do przepisania na innym urzƒÖdzeniu)
            const chars = 'ABCDEFGHJKLMNPQRSTUVWXYZ23456789';
            let uid = '';
            for (let i = 0; i < 8; i++) {
                if (i === 4) uid += '-';
                uid += chars[Math.floor(Math.random() * chars.length)];
            }
            return uid;
        }

        function startListening() {
            if (!fbDb || !fbUid) return;
            // Zatrzymaj poprzednie nas≈Çuchiwanie
            if (fbUnsubscribe) { fbUnsubscribe(); fbUnsubscribe = null; }

            const docRef = fbDb.collection('plantcare').doc(fbUid);
            fbUnsubscribe = docRef.onSnapshot(function(doc) {
                if (doc.exists) {
                    const cloudData = doc.data();
                    // Sprawd≈∫ czy dane w chmurze sƒÖ nowsze
                    const cloudTime = cloudData._updatedAt || 0;
                    const localTime = appData._updatedAt || 0;
                    if (cloudTime > localTime) {
                        // Dane z chmury sƒÖ nowsze ‚Äì za≈Çaduj je
                        const { _updatedAt, ...rest } = cloudData;
                        appData = { ...appData, ...rest, _updatedAt: cloudTime };
                        localStorage.setItem('plantcare', JSON.stringify(appData));
                        renderAll();
                        renderScanHistory && renderScanHistory();
                        showSyncIndicator('‚úÖ Zsynchronizowano');
                    }
                }
                updateSyncUI('connected');
            }, function(err) {
                console.warn('B≈ÇƒÖd Firestore listener:', err);
                updateSyncUI('error', 'B≈ÇƒÖd po≈ÇƒÖczenia');
            });
        }

        // Wywo≈Çywana po ka≈ºdym saveData() ‚Äì debounce 2s
        function scheduleSyncToCloud() {
            if (!fbDb || !fbUid) return;
            if (syncTimeout) clearTimeout(syncTimeout);
            syncTimeout = setTimeout(function() { syncToCloud(); }, 2000);
        }

        async function syncToCloud() {
            if (!fbDb || !fbUid) return;
            try {
                setSyncBar(true);
                const dataToSync = Object.assign({}, appData, {
                    _updatedAt: Date.now()
                });
                // Usu≈Ñ miniaturki skan√≥w ze zdjƒôciami (za du≈ºe dla Firestore ‚Äì limit 1MB/doc)
                if (dataToSync.scanHistory) {
                    dataToSync.scanHistory = dataToSync.scanHistory.map(function(item) {
                        const copy = Object.assign({}, item);
                        delete copy.thumb;  // usu≈Ñ base64
                        return copy;
                    });
                }
                // Usu≈Ñ klucz API (bezpiecze≈Ñstwo ‚Äì nie wysy≈Çaj do chmury)
                if (dataToSync.settings) {
                    dataToSync.settings = Object.assign({}, dataToSync.settings);
                    delete dataToSync.settings.apiKey;
                }
                await fbDb.collection('plantcare').doc(fbUid).set(dataToSync);
                appData._updatedAt = dataToSync._updatedAt;
                localStorage.setItem('plantcare', JSON.stringify(appData));
                setSyncBar(false);
                updateSyncUI('connected');
            } catch(e) {
                setSyncBar(false);
                updateSyncUI('error', e.message);
                console.error('B≈ÇƒÖd synchronizacji:', e);
            }
        }

        function syncNow() {
            if (!fbDb) { toast('‚ùå Brak po≈ÇƒÖczenia z Firebase'); return; }
            syncToCloud().then(function() { toast('‚úÖ Zsynchronizowano!'); });
        }

        async function importFromUID() {
            const input = document.getElementById('import-uid-input');
            const uid = (input.value || '').trim().toUpperCase();
            if (!uid || uid.length < 4) { toast('‚ùå Wpisz poprawne ID'); return; }
            if (!fbDb) { toast('‚ùå Najpierw po≈ÇƒÖcz z Firebase'); return; }
            try {
                setSyncBar(true);
                const doc = await fbDb.collection('plantcare').doc(uid).get();
                setSyncBar(false);
                if (!doc.exists) {
                    toast('‚ùå Nie znaleziono danych dla tego ID');
                    return;
                }
                const cloudData = doc.data();
                const { _updatedAt, ...rest } = cloudData;
                // Przejmij dane ale zachowaj lokalny apiKey
                const localApiKey = appData.settings && appData.settings.apiKey;
                appData = Object.assign({}, appData, rest);
                if (localApiKey && appData.settings) appData.settings.apiKey = localApiKey;
                appData._updatedAt = 0;  // wymu≈õ zapis przy nastƒôpnej sync
                saveData();
                renderAll();
                toast('‚úÖ Zaimportowano ' + (appData.plants ? appData.plants.length : 0) + ' ro≈õlin!');
                input.value = '';
            } catch(e) {
                setSyncBar(false);
                toast('‚ùå B≈ÇƒÖd importu: ' + e.message);
            }
        }

        function connectFirebase() {
            const raw = document.getElementById('firebase-config-input').value.trim();
            if (!raw) { toast('‚ùå Wklej konfiguracjƒô Firebase'); return; }
            let config;
            try {
                // Obs≈Çu≈º zar√≥wno czysty JSON jak i const firebaseConfig = {...}
                const jsonStr = raw.replace(/^.*?=\s*/, '').replace(/;?\s*$/, '');
                config = JSON.parse(jsonStr);
            } catch(e) {
                toast('‚ùå B≈Çƒôdny format konfiguracji'); return;
            }
            if (!config.apiKey || !config.projectId) {
                toast('‚ùå Konfiguracja niekompletna'); return;
            }
            localStorage.setItem('fb_config', JSON.stringify(config));
            const ok = setupFirebase(config, null);
            if (ok) {
                toast('üî• Po≈ÇƒÖczono z Firebase!');
                syncToCloud();
            }
        }

        function disconnectFirebase() {
            if (fbUnsubscribe) { fbUnsubscribe(); fbUnsubscribe = null; }
            fbApp = null; fbDb = null; fbUid = null;
            localStorage.removeItem('fb_config');
            localStorage.removeItem('fb_uid');
            updateSyncUI('offline');
            toast('üîå Roz≈ÇƒÖczono');
        }

        function copyUID() {
            if (!fbUid) return;
            navigator.clipboard && navigator.clipboard.writeText(fbUid)
                .then(function() { toast('üìã Skopiowano: ' + fbUid); })
                .catch(function() {
                    // fallback
                    const el = document.getElementById('sync-uid-display');
                    if (el) { const range = document.createRange(); range.selectNode(el); window.getSelection().removeAllRanges(); window.getSelection().addRange(range); }
                    toast('Zaznaczono ID ‚Äì skopiuj rƒôcznie');
                });
        }

        function updateSyncUI(status, detail) {
            const banner    = document.getElementById('sync-banner');
            const statusTxt = document.getElementById('sync-status-text');
            const dot       = banner && banner.querySelector('.sync-status-dot');
            const configSec = document.getElementById('sync-config-section');
            const connSec   = document.getElementById('sync-connected-section');
            const uidDisplay= document.getElementById('sync-uid-display');

            if (!banner) return;

            // Reset klas
            banner.className = 'sync-banner';

            if (status === 'connected') {
                banner.classList.add('connected');
                if (dot) { dot.className = 'sync-status-dot ok'; }
                if (statusTxt) statusTxt.textContent = 'Synchronizacja aktywna';
                if (configSec) configSec.style.display = 'none';
                if (connSec)   connSec.style.display   = 'block';
                if (uidDisplay && fbUid) uidDisplay.textContent = fbUid;

            } else if (status === 'error') {
                banner.classList.add('error');
                if (dot) { dot.className = 'sync-status-dot error'; }
                if (statusTxt) statusTxt.textContent = '‚ùå B≈ÇƒÖd: ' + (detail || 'sprawd≈∫ konfiguracjƒô');
                if (configSec) configSec.style.display = 'block';
                if (connSec)   connSec.style.display   = 'none';

            } else if (status === 'offline') {
                banner.classList.add('offline');
                if (dot) { dot.className = 'sync-status-dot offline'; }
                if (statusTxt) statusTxt.textContent = 'Synchronizacja wy≈ÇƒÖczona';
                if (configSec) configSec.style.display = 'block';
                if (connSec)   connSec.style.display   = 'none';

            } else {
                // setup (domy≈õlny)
                banner.classList.add('setup');
                if (dot) { dot.className = 'sync-status-dot offline'; }
                if (statusTxt) statusTxt.textContent = 'Nie skonfigurowano synchronizacji';
                if (configSec) configSec.style.display = 'block';
                if (connSec)   connSec.style.display   = 'none';
            }
        }

        function setSyncBar(active) {
            const bar = document.getElementById('sync-bar');
            if (bar) bar.className = active ? 'sync-bar syncing' : 'sync-bar';
        }

        function showSyncIndicator(msg) {
            toast(msg);
        }

        function showFirebaseGuide() {
            document.getElementById('modal-title').textContent = 'üî• Jak skonfigurowaƒá Firebase';
            document.getElementById('modal-body').innerHTML = `
                <div style="font-size:14px;line-height:1.8;">
                    <p style="margin-bottom:12px;">Firebase to darmowa baza danych Google. Wykonaj poni≈ºsze kroki:</p>
                    <div style="counter-reset:steps;">
                        ${[
                            ['Wejd≈∫ na', '<a href="https://console.firebase.google.com" target="_blank" style="color:var(--accent);">console.firebase.google.com</a>'],
                            ['Kliknij', '<b>‚ÄûUtw√≥rz projekt"</b> ‚Üí wpisz nazwƒô ‚Üí pomi≈Ñ Google Analytics'],
                            ['W menu bocznym kliknij', '<b>Firestore Database</b> ‚Üí <b>‚ÄûUtw√≥rz bazƒô danych"</b> ‚Üí wybierz <b>‚ÄûTryb testowy"</b>'],
                            ['W menu kliknij ikonƒô', '<b>‚öôÔ∏è Ustawienia projektu</b> ‚Üí przewi≈Ñ na d√≥≈Ç ‚Üí kliknij <b>‚Äû&lt;/&gt;"</b> (Web app)'],
                            ['Wpisz nazwƒô aplikacji', 'np. ‚ÄûPlantCare" ‚Üí kliknij Zarejestruj'],
                            ['Skopiuj obiekt', '<b>firebaseConfig</b> (tylko fragment w nawiasach klamrowych <code>{...}</code>)'],
                            ['Wr√≥ƒá do aplikacji', 'i wklej go w pole konfiguracji powy≈ºej'],
                        ].map(([pre, val], i) => `
                            <div style="display:flex;gap:10px;padding:8px 0;border-bottom:1px solid var(--border);">
                                <div style="width:22px;height:22px;background:var(--accent);color:#000;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:11px;font-weight:700;flex-shrink:0;">${i+1}</div>
                                <div><span style="color:var(--text-secondary);">${pre}</span> ${val}</div>
                            </div>`).join('')}
                    </div>
                    <div style="margin-top:14px;padding:10px;background:rgba(63,185,80,0.08);border-radius:8px;font-size:12px;">
                        ‚úÖ Plan Spark (darmowy) wystarczy ‚Äì 1GB bazy, 50k odczyt√≥w dziennie
                    </div>
                </div>`;
            document.getElementById('modal').style.display = 'flex';
        }

        // ===== START =====
        document.addEventListener('DOMContentLoaded', function() {
            init();
            initFirebase();
        });
    </script>
    <!-- Firebase SDK (compat ‚Äì dzia≈Ça bez bundlera) -->
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
</body>
</html>
